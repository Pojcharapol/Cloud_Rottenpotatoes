Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:48:00 +0700
  [1m[35m (3.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (187.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (164.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 3 pending migrations:

20210820130003_create_movies.rb
20210925163827_create_moviegoers.rb
20210928073141_create_reviews.rb


):
  
activerecord (6.1.4.1) lib/active_record/migration.rb:625:in `check_pending!'
activerecord (6.1.4.1) lib/active_record/migration.rb:590:in `block (2 levels) in call'
activesupport (6.1.4.1) lib/active_support/evented_file_update_checker.rb:59:in `execute'
activerecord (6.1.4.1) lib/active_record/migration.rb:595:in `block in call'
activerecord (6.1.4.1) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.4.1) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.4.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.4.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.4.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.4.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.4.1) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.4.1) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.4.1) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.4.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.4.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
rack-mini-profiler (2.3.2) lib/mini_profiler/profiler.rb:384:in `call'
webpacker (5.4.2) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.0) lib/rack/proxy.rb:63:in `call'
railties (6.1.4.1) lib/rails/engine.rb:539:in `call'
puma (5.4.0) lib/puma/configuration.rb:249:in `call'
puma (5.4.0) lib/puma/request.rb:77:in `block in handle_request'
puma (5.4.0) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.4.0) lib/puma/request.rb:76:in `handle_request'
puma (5.4.0) lib/puma/server.rb:440:in `process_client'
puma (5.4.0) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/rails/actions" for 127.0.0.1 at 2021-09-30 21:48:03 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateMovies (20210820130003)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "movies" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "rating" varchar, "description" text, "release_date" datetime, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210820130003"]]
  [1m[36mTRANSACTION (159.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateMoviegoers (20210925163827)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "moviegoers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "provider" varchar, "uid" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210925163827"]]
  [1m[36mTRANSACTION (142.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateReviews (20210928073141)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "potatoes" integer, "comments" text, "moviegoer_id" integer, "movie_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_moviegoer_id" ON "reviews" ("moviegoer_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_movie_id" ON "reviews" ("movie_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210928073141"]]
  [1m[36mTRANSACTION (149.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-09-30 14:48:04.417238"], ["updated_at", "2021-09-30 14:48:04.417238"]]
  [1m[36mTRANSACTION (107.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:48:04 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/index.html.haml within layouts/application (Duration: 8.7ms | Allocations: 6439)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
yarn run v1.22.11
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.


error Command "webpack" not found.

  Rendered layout layouts/application.html.haml (Duration: 2109.5ms | Allocations: 21467)
Completed 500 Internal Server Error in 2187ms (ActiveRecord: 1.1ms | Allocations: 31040)


  
ActionView::Template::Error (Webpacker can't find application.js in /home/anda/Documents/Work/3/Myrottenpotatoes/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
}
):
    3:   %head
    4:     %title RottenPotatoes!
    5:     = stylesheet_link_tag 'application'
    6:     = javascript_pack_tag 'application'
    7:     = csrf_meta_tags
    8: 
    9:   %body
  
app/views/layouts/application.html.haml:6
Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:49:47 +0700
Processing by MoviesController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/index.html.haml within layouts/application (Duration: 1.9ms | Allocations: 999)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/anda/Documents/Work/3/Myrottenpotatoes/public/packs
[Webpacker] Hash: e2a8a876c5815bee1e21
Version: webpack 4.46.0
Time: 3174ms
Built at: 09/30/2021 9:49:53 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-e421b4aa3f716bebdab1.js    125 KiB  application  [emitted] [immutable]  application
js/application-e421b4aa3f716bebdab1.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-e421b4aa3f716bebdab1.js js/application-e421b4aa3f716bebdab1.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 492 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

  Rendered movies/_login_form.html.haml (Duration: 5.4ms | Allocations: 2506)
  Rendered layout layouts/application.html.haml (Duration: 6030.0ms | Allocations: 7914)
Completed 200 OK in 6054ms (Views: 6032.2ms | ActiveRecord: 2.4ms | Allocations: 15128)


Started GET "/movies/new" for 127.0.0.1 at 2021-09-30 21:49:56 +0700
Processing by MoviesController#new as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
Redirected to http://localhost:3000/movies
Filter chain halted as :has_moviegoer_and_movie rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.2ms | Allocations: 1541)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:49:56 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.1ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/index.html.haml within layouts/application (Duration: 1.8ms | Allocations: 479)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 77)
  Rendered layout layouts/application.html.haml (Duration: 14.3ms | Allocations: 3618)
Completed 200 OK in 21ms (Views: 15.1ms | ActiveRecord: 0.2ms | Allocations: 5722)


Started POST "/movies/search_tmdb" for 127.0.0.1 at 2021-09-30 21:49:59 +0700
Processing by MoviesController#search_tmdb as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "search_terms"=>"", "commit"=>"Search TMDb"}
  [1m[36mMoviegoer Load (0.1ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
Redirected to http://localhost:3000/movies
Filter chain halted as :has_moviegoer_and_movie rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.1ms | Allocations: 1585)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:49:59 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/index.html.haml within layouts/application (Duration: 1.2ms | Allocations: 481)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.9ms | Allocations: 77)
  Rendered layout layouts/application.html.haml (Duration: 9.9ms | Allocations: 3617)
Completed 200 OK in 20ms (Views: 10.7ms | ActiveRecord: 0.4ms | Allocations: 5710)


Started POST "/movies/search_tmdb" for 127.0.0.1 at 2021-09-30 21:50:01 +0700
Processing by MoviesController#search_tmdb as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "search_terms"=>"", "commit"=>"Search TMDb"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
Redirected to http://localhost:3000/movies
Filter chain halted as :has_moviegoer_and_movie rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.3ms | Allocations: 1537)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:50:01 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.6ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/index.html.haml within layouts/application (Duration: 1.2ms | Allocations: 481)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 1.0ms | Allocations: 77)
  Rendered layout layouts/application.html.haml (Duration: 10.7ms | Allocations: 3618)
Completed 200 OK in 23ms (Views: 11.9ms | ActiveRecord: 0.9ms | Allocations: 5713)


Started POST "/movies/search_tmdb" for 127.0.0.1 at 2021-09-30 21:50:03 +0700
Processing by MoviesController#search_tmdb as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "search_terms"=>"dasd", "commit"=>"Search TMDb"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
Redirected to http://localhost:3000/movies
Filter chain halted as :has_moviegoer_and_movie rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.2ms | Allocations: 1519)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:50:03 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/index.html.haml within layouts/application (Duration: 1.2ms | Allocations: 479)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 77)
  Rendered layout layouts/application.html.haml (Duration: 10.7ms | Allocations: 3615)
Completed 200 OK in 21ms (Views: 11.6ms | ActiveRecord: 0.4ms | Allocations: 5708)


Started POST "/auth/google_oauth2" for 127.0.0.1 at 2021-09-30 21:50:05 +0700
Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:50:10 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/index.html.haml within layouts/application (Duration: 1.2ms | Allocations: 481)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 77)
  Rendered layout layouts/application.html.haml (Duration: 10.1ms | Allocations: 3610)
Completed 200 OK in 21ms (Views: 10.8ms | ActiveRecord: 0.4ms | Allocations: 5885)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:52:19 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/index.html.haml within layouts/application (Duration: 1.6ms | Allocations: 481)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 77)
  Rendered layout layouts/application.html.haml (Duration: 11.8ms | Allocations: 3611)
Completed 200 OK in 18ms (Views: 12.4ms | ActiveRecord: 0.3ms | Allocations: 5885)


Started POST "/auth/google_oauth2" for 127.0.0.1 at 2021-09-30 21:52:20 +0700
Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:52:24 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/index.html.haml within layouts/application (Duration: 2.3ms | Allocations: 479)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.9ms | Allocations: 77)
  Rendered layout layouts/application.html.haml (Duration: 13.2ms | Allocations: 3608)
Completed 200 OK in 32ms (Views: 14.8ms | ActiveRecord: 0.4ms | Allocations: 5831)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:52:36 +0700
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/index.html.haml within layouts/application (Duration: 31.3ms | Allocations: 6600)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 5.9ms | Allocations: 2415)
  Rendered layout layouts/application.html.haml (Duration: 58.8ms | Allocations: 17755)
Completed 200 OK in 99ms (Views: 63.6ms | ActiveRecord: 0.9ms | Allocations: 28401)


Started POST "/auth/google_oauth2" for 127.0.0.1 at 2021-09-30 21:52:37 +0700
Started GET "/auth/google_oauth2/callback?state=b300f29b6d09046efc084d415cc5e0cc681a1e814079de27&code=4%2F0AX4XfWjpU21paEJpo6zrSfsrbzr9w44SxbydsYI69TPtXkT_vnPk6UMgIxJ8A6te_VZEqQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=2&prompt=consent" for 127.0.0.1 at 2021-09-30 21:52:41 +0700
Processing by SessionsController#create as HTML
  Parameters: {"state"=>"b300f29b6d09046efc084d415cc5e0cc681a1e814079de27", "code"=>"4/0AX4XfWjpU21paEJpo6zrSfsrbzr9w44SxbydsYI69TPtXkT_vnPk6UMgIxJ8A6te_VZEqQ", "scope"=>"email profile https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile openid", "authuser"=>"2", "prompt"=>"consent", "provider"=>"google_oauth2"}
  [1m[36mMoviegoer Load (0.9ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."provider" = ? AND "moviegoers"."uid" = ? ORDER BY "moviegoers"."id" ASC LIMIT ?[0m  [["provider", "google_oauth2"], ["uid", "102523006128483568056"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/moviegoer.rb:5:in `create_with_omniauth'
  [1m[36mMoviegoer Create (0.4ms)[0m  [1m[32mINSERT INTO "moviegoers" ("name", "provider", "uid", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "white clear"], ["provider", "google_oauth2"], ["uid", "102523006128483568056"], ["created_at", "2021-09-30 14:52:41.661448"], ["updated_at", "2021-09-30 14:52:41.661448"]]
  â†³ app/models/moviegoer.rb:5:in `create_with_omniauth'
  [1m[36mTRANSACTION (131.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/moviegoer.rb:5:in `create_with_omniauth'
Redirected to http://localhost:3000/movies
Completed 302 Found in 164ms (ActiveRecord: 133.8ms | Allocations: 9754)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:52:41 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/index.html.haml within layouts/application (Duration: 1.2ms | Allocations: 484)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 100)
  Rendered layout layouts/application.html.haml (Duration: 12.8ms | Allocations: 3639)
Completed 200 OK in 114ms (Views: 13.5ms | ActiveRecord: 1.4ms | Allocations: 13516)


Started GET "/movies/new" for 127.0.0.1 at 2021-09-30 21:52:44 +0700
Processing by MoviesController#new as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.haml
  Rendering movies/new.html.haml within layouts/application
  Rendered movies/_movie_form.html.haml (Duration: 212.9ms | Allocations: 9441)
  Rendered movies/new.html.haml within layouts/application (Duration: 221.4ms | Allocations: 11996)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 1.4ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 232.6ms | Allocations: 15083)
Completed 200 OK in 257ms (Views: 233.9ms | ActiveRecord: 1.8ms | Allocations: 20555)


Started POST "/movies" for 127.0.0.1 at 2021-09-30 21:52:52 +0700
Processing by MoviesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "movie"=>{"title"=>"anda", "rating"=>"G", "release_date(1i)"=>"2021", "release_date(2i)"=>"9", "release_date(3i)"=>"30", "description"=>"anda"}, "commit"=>"Save Changes"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/movies_controller.rb:41:in `create'
  [1m[36mMovie Create (0.9ms)[0m  [1m[32mINSERT INTO "movies" ("title", "rating", "description", "release_date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Anda"], ["rating", "G"], ["description", "anda"], ["release_date", "2021-09-30 00:00:00"], ["created_at", "2021-09-30 14:52:52.422788"], ["updated_at", "2021-09-30 14:52:52.422788"]]
  â†³ app/controllers/movies_controller.rb:41:in `create'
  [1m[36mTRANSACTION (177.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/movies_controller.rb:41:in `create'
Redirected to http://localhost:3000/movies
Completed 302 Found in 207ms (ActiveRecord: 178.8ms | Allocations: 7520)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:52:52 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 2.7ms | Allocations: 2410)
  Rendered movies/index.html.haml within layouts/application (Duration: 4.2ms | Allocations: 3072)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 90)
  Rendered layout layouts/application.html.haml (Duration: 14.8ms | Allocations: 6150)
Completed 200 OK in 29ms (Views: 15.4ms | ActiveRecord: 0.8ms | Allocations: 8598)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 21:52:55 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 1], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 6.5ms | Allocations: 3344)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 90)
  Rendered layout layouts/application.html.haml (Duration: 16.5ms | Allocations: 6470)
Completed 200 OK in 29ms (Views: 17.2ms | ActiveRecord: 0.9ms | Allocations: 9357)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 21:52:59 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 2.3ms | Allocations: 1797)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 11.7ms | Allocations: 4943)
Completed 200 OK in 27ms (Views: 13.6ms | ActiveRecord: 0.8ms | Allocations: 8315)


Started GET "/movies/1/reviews/new" for 127.0.0.1 at 2021-09-30 21:53:00 +0700
Processing by ReviewsController#new as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (1.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  Rendering layout layouts/application.html.haml
  Rendering reviews/new.html.haml within layouts/application
  Rendered reviews/_movie_review_form.html.haml (Duration: 3.6ms | Allocations: 2099)
  Rendered reviews/new.html.haml within layouts/application (Duration: 10.9ms | Allocations: 4679)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 90)
  Rendered layout layouts/application.html.haml (Duration: 16.9ms | Allocations: 7750)
Completed 200 OK in 53ms (Views: 17.7ms | ActiveRecord: 2.2ms | Allocations: 15133)


Started POST "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 21:53:06 +0700
Processing by ReviewsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "review"=>{"potatoes"=>"3", "comments"=>"anda"}, "commit"=>"Create Review", "movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/reviews_controller.rb:32:in `create'
  [1m[36mReview Create (0.4ms)[0m  [1m[32mINSERT INTO "reviews" ("potatoes", "comments", "moviegoer_id", "movie_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["potatoes", 3], ["comments", "anda"], ["moviegoer_id", 1], ["movie_id", 1], ["created_at", "2021-09-30 14:53:06.325582"], ["updated_at", "2021-09-30 14:53:06.325582"]]
  â†³ app/controllers/reviews_controller.rb:32:in `create'
  [1m[36mTRANSACTION (123.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/reviews_controller.rb:32:in `create'
Redirected to http://localhost:3000/movies/1
Completed 302 Found in 155ms (ActiveRecord: 124.5ms | Allocations: 8990)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 21:53:06 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 1], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 0.9ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 90)
  Rendered layout layouts/application.html.haml (Duration: 7.6ms | Allocations: 3548)
Completed 200 OK in 20ms (Views: 8.3ms | ActiveRecord: 0.6ms | Allocations: 5986)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:53:15 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 2.0ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 5.7ms | Allocations: 713)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 1.0ms | Allocations: 90)
  Rendered layout layouts/application.html.haml (Duration: 19.8ms | Allocations: 3885)
Completed 200 OK in 37ms (Views: 21.8ms | ActiveRecord: 0.8ms | Allocations: 6512)


Started POST "/logout" for 127.0.0.1 at 2021-09-30 21:53:19 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/movies
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 382)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:53:19 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.5ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 1.9ms | Allocations: 713)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 10.0ms | Allocations: 3813)
Completed 200 OK in 19ms (Views: 10.8ms | ActiveRecord: 0.4ms | Allocations: 6049)


Started POST "/auth/google_oauth2" for 127.0.0.1 at 2021-09-30 21:53:20 +0700
Started GET "/auth/google_oauth2/callback?state=b4e787413c6b7fd0857f07921b68adfba2b133b80f8d9890&code=4/0AX4XfWhmXn8iMqVOK9sqjZqA8jXCtkp8XxmDPRirHroODhbWWdEy5fRhJlLSNLGSNhl0pg&scope=email%20profile%20https://www.googleapis.com/auth/userinfo.profile%20https://www.googleapis.com/auth/userinfo.email%20openid&authuser=0&hd=email.kmutnb.ac.th&prompt=none" for 127.0.0.1 at 2021-09-30 21:53:22 +0700
Processing by SessionsController#create as HTML
  Parameters: {"state"=>"b4e787413c6b7fd0857f07921b68adfba2b133b80f8d9890", "code"=>"4/0AX4XfWhmXn8iMqVOK9sqjZqA8jXCtkp8XxmDPRirHroODhbWWdEy5fRhJlLSNLGSNhl0pg", "scope"=>"email profile https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email openid", "authuser"=>"0", "hd"=>"email.kmutnb.ac.th", "prompt"=>"none", "provider"=>"google_oauth2"}
  [1m[36mMoviegoer Load (0.5ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."provider" = ? AND "moviegoers"."uid" = ? ORDER BY "moviegoers"."id" ASC LIMIT ?[0m  [["provider", "google_oauth2"], ["uid", "111274802945935273986"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/moviegoer.rb:5:in `create_with_omniauth'
  [1m[36mMoviegoer Create (0.4ms)[0m  [1m[32mINSERT INTO "moviegoers" ("name", "provider", "uid", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "à¸­à¸±à¸™à¸”à¸² à¸žà¸±à¸’à¸™à¸Šà¸¹"], ["provider", "google_oauth2"], ["uid", "111274802945935273986"], ["created_at", "2021-09-30 14:53:23.234897"], ["updated_at", "2021-09-30 14:53:23.234897"]]
  â†³ app/models/moviegoer.rb:5:in `create_with_omniauth'
  [1m[36mTRANSACTION (126.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/moviegoer.rb:5:in `create_with_omniauth'
Redirected to http://localhost:3000/movies
Completed 302 Found in 146ms (ActiveRecord: 127.3ms | Allocations: 6039)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:53:23 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 1.3ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 3.5ms | Allocations: 711)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.8ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 12.8ms | Allocations: 3884)
Completed 200 OK in 26ms (Views: 14.0ms | ActiveRecord: 0.5ms | Allocations: 6354)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 21:53:24 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.8ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 9.3ms | Allocations: 3536)
Completed 200 OK in 27ms (Views: 10.3ms | ActiveRecord: 0.8ms | Allocations: 6140)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 21:53:28 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.5ms | Allocations: 170)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 11.8ms | Allocations: 3403)
Completed 200 OK in 25ms (Views: 12.8ms | ActiveRecord: 0.6ms | Allocations: 5994)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 21:53:35 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (1.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 1.1ms | Allocations: 170)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.7ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 14.6ms | Allocations: 3403)
Completed 200 OK in 35ms (Views: 16.4ms | ActiveRecord: 1.5ms | Allocations: 5994)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 21:53:37 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.8ms | Allocations: 170)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 1.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 12.4ms | Allocations: 3403)
Completed 200 OK in 32ms (Views: 15.2ms | ActiveRecord: 1.0ms | Allocations: 5994)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 21:53:47 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.9ms | Allocations: 170)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 13.9ms | Allocations: 3403)
Completed 200 OK in 32ms (Views: 16.3ms | ActiveRecord: 0.6ms | Allocations: 6019)


Started GET "/movies/1/reviews/new" for 127.0.0.1 at 2021-09-30 21:53:48 +0700
Processing by ReviewsController#new as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  Rendering layout layouts/application.html.haml
  Rendering reviews/new.html.haml within layouts/application
  Rendered reviews/_movie_review_form.html.haml (Duration: 1.4ms | Allocations: 431)
  Rendered reviews/new.html.haml within layouts/application (Duration: 5.6ms | Allocations: 907)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 14.8ms | Allocations: 4077)
Completed 200 OK in 31ms (Views: 18.3ms | ActiveRecord: 0.6ms | Allocations: 6852)


Started POST "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 21:53:55 +0700
Processing by ReviewsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "review"=>{"potatoes"=>"5", "comments"=>"nnnn"}, "commit"=>"Create Review", "movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/reviews_controller.rb:32:in `create'
  [1m[36mReview Create (0.4ms)[0m  [1m[32mINSERT INTO "reviews" ("potatoes", "comments", "moviegoer_id", "movie_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["potatoes", 5], ["comments", "nnnn"], ["moviegoer_id", 2], ["movie_id", 1], ["created_at", "2021-09-30 14:53:55.155735"], ["updated_at", "2021-09-30 14:53:55.155735"]]
  â†³ app/controllers/reviews_controller.rb:32:in `create'
  [1m[36mTRANSACTION (109.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/reviews_controller.rb:32:in `create'
Redirected to http://localhost:3000/movies/1
Completed 302 Found in 153ms (ActiveRecord: 110.8ms | Allocations: 8266)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 21:53:55 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 0.9ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 9.9ms | Allocations: 3549)
Completed 200 OK in 19ms (Views: 10.7ms | ActiveRecord: 0.5ms | Allocations: 5962)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:53:57 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 2.4ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 5.8ms | Allocations: 711)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 13.7ms | Allocations: 3892)
Completed 200 OK in 26ms (Views: 14.4ms | ActiveRecord: 0.8ms | Allocations: 6522)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 21:54:03 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.7ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 15.1ms | Allocations: 3535)
Completed 200 OK in 29ms (Views: 16.0ms | ActiveRecord: 0.6ms | Allocations: 6135)


Started GET "/movies/1/edit" for 127.0.0.1 at 2021-09-30 21:54:04 +0700
Processing by MoviesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:53:in `edit'
  Rendering layout layouts/application.html.haml
  Rendering movies/edit.html.haml within layouts/application
  Rendered movies/_movie_form.html.haml (Duration: 3.6ms | Allocations: 2690)
  Rendered movies/edit.html.haml within layouts/application (Duration: 12.3ms | Allocations: 5093)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.6ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 22.3ms | Allocations: 8162)
Completed 200 OK in 35ms (Views: 23.2ms | ActiveRecord: 0.6ms | Allocations: 10924)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 21:54:08 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.6ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.2ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 1.0ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 13.7ms | Allocations: 3536)
Completed 200 OK in 33ms (Views: 14.8ms | ActiveRecord: 1.4ms | Allocations: 6133)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:54:09 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 1.1ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 3.6ms | Allocations: 713)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 17.5ms | Allocations: 3886)
Completed 200 OK in 33ms (Views: 19.0ms | ActiveRecord: 0.7ms | Allocations: 6516)


Started POST "/logout" for 127.0.0.1 at 2021-09-30 21:54:11 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/movies
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 365)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:54:11 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.1ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.5ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 1.8ms | Allocations: 711)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 10.9ms | Allocations: 3811)
Completed 200 OK in 17ms (Views: 11.7ms | ActiveRecord: 0.3ms | Allocations: 6046)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 21:54:12 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 0.9ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 8.0ms | Allocations: 3457)
Completed 200 OK in 19ms (Views: 9.2ms | ActiveRecord: 0.8ms | Allocations: 5691)


Started DELETE "/movies/1" for 127.0.0.1 at 2021-09-30 21:54:14 +0700
Processing by MoviesController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
Redirected to http://localhost:3000/movies
Filter chain halted as :has_moviegoer_and_movie rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.2ms | Allocations: 1524)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:54:14 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.8ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 3.1ms | Allocations: 711)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.6ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 14.1ms | Allocations: 3813)
Completed 200 OK in 28ms (Views: 15.5ms | ActiveRecord: 0.5ms | Allocations: 5921)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 21:54:16 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.0ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 12.1ms | Allocations: 3457)
Completed 200 OK in 24ms (Views: 13.2ms | ActiveRecord: 0.5ms | Allocations: 5691)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:54:17 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 1.6ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 5.5ms | Allocations: 711)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 18.7ms | Allocations: 3806)
Completed 200 OK in 32ms (Views: 20.4ms | ActiveRecord: 0.4ms | Allocations: 6070)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 21:54:19 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 3.0ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 75)
  Rendered layout layouts/application.html.haml (Duration: 25.8ms | Allocations: 3466)
Completed 200 OK in 37ms (Views: 27.7ms | ActiveRecord: 0.5ms | Allocations: 5701)


Started GET "/movies/1/edit" for 127.0.0.1 at 2021-09-30 21:54:20 +0700
Processing by MoviesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
Redirected to http://localhost:3000/movies
Filter chain halted as :has_moviegoer_and_movie rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.2ms | Allocations: 1475)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 21:54:20 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.6ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 1.9ms | Allocations: 711)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 12.0ms | Allocations: 3821)
Completed 200 OK in 20ms (Views: 12.6ms | ActiveRecord: 0.3ms | Allocations: 5942)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 21:54:22 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 4.5ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 16.4ms | Allocations: 3465)
Completed 200 OK in 26ms (Views: 17.6ms | ActiveRecord: 0.6ms | Allocations: 5701)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 21:54:23 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.5ms | Allocations: 170)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 77)
  Rendered layout layouts/application.html.haml (Duration: 10.8ms | Allocations: 3325)
Completed 200 OK in 19ms (Views: 11.5ms | ActiveRecord: 0.4ms | Allocations: 5573)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:25:31 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 7.0ms | Allocations: 3347)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 8.4ms | Allocations: 2383)
  Rendered layout layouts/application.html.haml (Duration: 34.6ms | Allocations: 12486)
Completed 200 OK in 55ms (Views: 39.1ms | ActiveRecord: 1.9ms | Allocations: 16361)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:25:32 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.8ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 20.3ms | Allocations: 5676)
  Rendered layout layouts/application.html.haml (Duration: 20.7ms | Allocations: 5759)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 1.1ms | Allocations: 8566)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"reviews", :movie_id=>#<Movie id: 1, title: "Anda", rating: "G", description: "anda", release_date: "2021-09-30 00:00:00.000000000 +0000", created_at: "2021-09-30 14:52:52.422788000 +0000", updated_at: "2021-09-30 14:52:52.422788000 +0000">}, missing required keys: [:id]
Did you mean?  movie_review_url
               movie_reviews_url
               movie_reviews_path
               new_movie_review_url):
    3:     
    4: 
    5: = link_to 'Add Review', new_movie_review_path(@movie)
    6: = link_to 'Show Review', movie_review_path(@movie)
  
app/views/reviews/index.html.haml:6
Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:25:49 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 34.4ms | Allocations: 1864)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.3ms | Allocations: 2386)
  Rendered layout layouts/application.html.haml (Duration: 51.5ms | Allocations: 10991)
Completed 200 OK in 80ms (Views: 61.1ms | ActiveRecord: 0.4ms | Allocations: 14096)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:25:51 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.8ms | Allocations: 195)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 77)
  Rendered layout layouts/application.html.haml (Duration: 11.2ms | Allocations: 3350)
Completed 200 OK in 23ms (Views: 12.4ms | ActiveRecord: 0.6ms | Allocations: 5597)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:25:51 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (1.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.8ms | Allocations: 195)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 77)
  Rendered layout layouts/application.html.haml (Duration: 11.8ms | Allocations: 3350)
Completed 200 OK in 24ms (Views: 12.6ms | ActiveRecord: 1.9ms | Allocations: 5598)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:26:03 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 3.4ms | Allocations: 2874)
  Rendered layout layouts/application.html.haml (Duration: 3.7ms | Allocations: 2957)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.3ms | Allocations: 6037)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"reviews", :movie_id=>"1"}, missing required keys: [:id]
Did you mean?  movie_review_url
               movie_reviews_url
               movie_reviews_path
               new_movie_review_url):
    3:     
    4: 
    5: = link_to 'Add Review', new_movie_review_path(@movie)
    6: = link_to 'Show Review', movie_review_path
  
app/views/reviews/index.html.haml:6
Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:28:41 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 2.6ms | Allocations: 1873)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 2.9ms | Allocations: 2383)
  Rendered layout layouts/application.html.haml (Duration: 17.2ms | Allocations: 10995)
Completed 200 OK in 29ms (Views: 19.2ms | ActiveRecord: 0.4ms | Allocations: 14087)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:28:43 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.1ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.6ms | Allocations: 204)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 7.4ms | Allocations: 3356)
Completed 200 OK in 17ms (Views: 8.1ms | ActiveRecord: 0.4ms | Allocations: 5613)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:28:44 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.6ms | Allocations: 204)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 10.3ms | Allocations: 3356)
Completed 200 OK in 18ms (Views: 11.2ms | ActiveRecord: 0.3ms | Allocations: 5614)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:28:52 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 5.7ms | Allocations: 3016)
  Rendered layout layouts/application.html.haml (Duration: 6.4ms | Allocations: 3099)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.4ms | Allocations: 6174)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"reviews", :movie_id=>#<Movie id: 1, title: "Anda", rating: "G", description: "anda", release_date: "2021-09-30 00:00:00.000000000 +0000", created_at: "2021-09-30 14:52:52.422788000 +0000", updated_at: "2021-09-30 14:52:52.422788000 +0000">}, missing required keys: [:id]
Did you mean?  movie_review_url
               movie_reviews_url
               movie_reviews_path
               new_movie_review_url):
    3:     
    4: 
    5: = link_to 'Add Review', new_movie_review_path(@movie)
    6: = link_to 'Show Review', movie_review_path(@movie), method: :get
  
app/views/reviews/index.html.haml:6
Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:29:55 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 2.7ms | Allocations: 1873)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.1ms | Allocations: 2385)
  Rendered layout layouts/application.html.haml (Duration: 18.1ms | Allocations: 10997)
Completed 200 OK in 49ms (Views: 21.3ms | ActiveRecord: 2.7ms | Allocations: 22335)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:29:57 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.7ms | Allocations: 195)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 77)
  Rendered layout layouts/application.html.haml (Duration: 10.2ms | Allocations: 3350)
Completed 200 OK in 20ms (Views: 11.1ms | ActiveRecord: 0.5ms | Allocations: 5592)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:29:57 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 1.3ms | Allocations: 195)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 77)
  Rendered layout layouts/application.html.haml (Duration: 11.9ms | Allocations: 3350)
Completed 200 OK in 23ms (Views: 12.8ms | ActiveRecord: 0.4ms | Allocations: 5592)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:30:16 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 3.9ms | Allocations: 3026)
  Rendered layout layouts/application.html.haml (Duration: 4.2ms | Allocations: 3109)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.3ms | Allocations: 6184)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"reviews", :movie_id=>#<Movie id: 1, title: "Anda", rating: "G", description: "anda", release_date: "2021-09-30 00:00:00.000000000 +0000", created_at: "2021-09-30 14:52:52.422788000 +0000", updated_at: "2021-09-30 14:52:52.422788000 +0000">}, missing required keys: [:id]
Did you mean?  movie_review_url
               movie_reviews_url
               movie_reviews_path
               new_movie_review_url):
    3:     
    4: 
    5: = link_to 'Add Review', new_movie_review_path(@movie)
    6: = link_to 'Show Review', movie_review_path(@movie)
  
app/views/reviews/index.html.haml:6
Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:30:35 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.9ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 4.0ms | Allocations: 1442)
  Rendered layout layouts/application.html.haml (Duration: 4.5ms | Allocations: 1525)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 3.4ms | Allocations: 12148)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"reviews", :movie_id=>#<Movie id: 1, title: "Anda", rating: "G", description: "anda", release_date: "2021-09-30 00:00:00.000000000 +0000", created_at: "2021-09-30 14:52:52.422788000 +0000", updated_at: "2021-09-30 14:52:52.422788000 +0000">}, missing required keys: [:id]
Did you mean?  movie_review_url
               movie_reviews_url
               movie_reviews_path
               new_movie_review_url):
    3:     
    4: 
    5: = link_to 'Add Review', new_movie_review_path(@movie)
    6: = link_to 'Show Review', movie_review_path(@movie)
  
app/views/reviews/index.html.haml:6
Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:30:37 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.6ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 3.2ms | Allocations: 1410)
  Rendered layout layouts/application.html.haml (Duration: 3.9ms | Allocations: 1488)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.8ms | Allocations: 3680)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"reviews", :movie_id=>#<Movie id: 1, title: "Anda", rating: "G", description: "anda", release_date: "2021-09-30 00:00:00.000000000 +0000", created_at: "2021-09-30 14:52:52.422788000 +0000", updated_at: "2021-09-30 14:52:52.422788000 +0000">}, missing required keys: [:id]
Did you mean?  movie_review_url
               movie_reviews_url
               movie_reviews_path
               new_movie_review_url):
    3:     
    4: 
    5: = link_to 'Add Review', new_movie_review_path(@movie)
    6: = link_to 'Show Review', movie_review_path(@movie)
  
app/views/reviews/index.html.haml:6
Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:30:53 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 2.0ms | Allocations: 1410)
  Rendered layout layouts/application.html.haml (Duration: 2.3ms | Allocations: 1488)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.5ms | Allocations: 3678)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"reviews", :movie_id=>#<Movie id: 1, title: "Anda", rating: "G", description: "anda", release_date: "2021-09-30 00:00:00.000000000 +0000", created_at: "2021-09-30 14:52:52.422788000 +0000", updated_at: "2021-09-30 14:52:52.422788000 +0000">}, missing required keys: [:id]
Did you mean?  movie_review_url
               movie_reviews_url
               movie_reviews_path
               new_movie_review_url):
    3:     
    4: 
    5: = link_to 'Add Review', new_movie_review_path(@movie)
    6: = link_to 'Show Review', movie_review_path(@movie)
  
app/views/reviews/index.html.haml:6
Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:31:46 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 3.7ms | Allocations: 3009)
  Rendered layout layouts/application.html.haml (Duration: 4.0ms | Allocations: 3092)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.5ms | Allocations: 6137)


  
ActionView::Template::Error (No route matches {:action=>"edit", :controller=>"reviews", :movie_id=>#<Movie id: 1, title: "Anda", rating: "G", description: "anda", release_date: "2021-09-30 00:00:00.000000000 +0000", created_at: "2021-09-30 14:52:52.422788000 +0000", updated_at: "2021-09-30 14:52:52.422788000 +0000">}, missing required keys: [:id]
Did you mean?  edit_movie_review_url):
    3:     
    4: 
    5: = link_to 'Add Review', new_movie_review_path(@movie)
    6: = link_to 'Update Review', edit_movie_review_path(@movie)
  
app/views/reviews/index.html.haml:6
Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:32:10 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 4.1ms | Allocations: 3007)
  Rendered layout layouts/application.html.haml (Duration: 4.4ms | Allocations: 3090)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.5ms | Allocations: 6135)


  
ActionView::Template::Error (No route matches {:action=>"edit", :controller=>"reviews", :movie_id=>#<Movie id: 1, title: "Anda", rating: "G", description: "anda", release_date: "2021-09-30 00:00:00.000000000 +0000", created_at: "2021-09-30 14:52:52.422788000 +0000", updated_at: "2021-09-30 14:52:52.422788000 +0000">}, missing required keys: [:id]
Did you mean?  edit_movie_review_path):
    3:     
    4: 
    5: = link_to 'Add Review', new_movie_review_path(@movie)
    6: = link_to 'Update Review', edit_movie_review_url(@movie)
  
app/views/reviews/index.html.haml:6
Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:35:30 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
Completed 404 Not Found in 19ms (ActiveRecord: 1.9ms | Allocations: 6414)


  
ActiveRecord::RecordNotFound (Couldn't find Movie without an ID):
  
app/controllers/reviews_controller.rb:21:in `index'
Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:35:39 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 3.7ms | Allocations: 3027)
  Rendered layout layouts/application.html.haml (Duration: 4.6ms | Allocations: 3220)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 2.9ms | Allocations: 14422)


  
ActionView::Template::Error (No route matches {:action=>"edit", :controller=>"reviews", :movie_id=>#<Movie id: 1, title: "Anda", rating: "G", description: "anda", release_date: "2021-09-30 00:00:00.000000000 +0000", created_at: "2021-09-30 14:52:52.422788000 +0000", updated_at: "2021-09-30 14:52:52.422788000 +0000">}, missing required keys: [:id]
Did you mean?  edit_movie_review_url):
    3:     
    4: 
    5: = link_to 'Add Review', new_movie_review_path(@movie)
    6: = link_to 'Update Review', edit_movie_review_path(@movie)
  
app/views/reviews/index.html.haml:6
Started GET "/" for 127.0.0.1 at 2021-09-30 22:39:14 +0700
Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:39:15 +0700
Processing by MoviesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 7.2ms | Allocations: 2280)
  Rendered movies/index.html.haml within layouts/application (Duration: 14.8ms | Allocations: 6755)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.0ms | Allocations: 2383)
  Rendered layout layouts/application.html.haml (Duration: 30.9ms | Allocations: 15723)
Completed 200 OK in 62ms (Views: 33.5ms | ActiveRecord: 2.6ms | Allocations: 26677)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:39:16 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 5.0ms | Allocations: 3244)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 13.4ms | Allocations: 6362)
Completed 200 OK in 36ms (Views: 14.2ms | ActiveRecord: 0.5ms | Allocations: 8888)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:39:19 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 3.2ms | Allocations: 1421)
  Rendered layout layouts/application.html.haml (Duration: 3.8ms | Allocations: 1504)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.4ms | Allocations: 3987)


  
ActionView::Template::Error (No route matches {:action=>"edit", :controller=>"reviews", :movie_id=>#<Movie id: 1, title: "Anda", rating: "G", description: "anda", release_date: "2021-09-30 00:00:00.000000000 +0000", created_at: "2021-09-30 14:52:52.422788000 +0000", updated_at: "2021-09-30 14:52:52.422788000 +0000">}, missing required keys: [:id]
Did you mean?  edit_movie_review_url):
    3:     
    4: 
    5: = link_to 'Add Review', new_movie_review_path(@movie)
    6: = link_to 'Update Review', edit_movie_review_path(@movie)
  
app/views/reviews/index.html.haml:6
Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:39:45 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 5.5ms | Allocations: 2565)
  Rendered layout layouts/application.html.haml (Duration: 5.8ms | Allocations: 2640)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.3ms | Allocations: 5690)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check %h2 All Review #{@movie.title}

    

= link_to 'Add Review', new_movie_review_path(@movie)
-= link_to 'Update Review', edit_movie_review_path(@movie)

):
1:    %h2 All Review #{@movie.title}
2:    
3:        
4:    
5:    = link_to 'Add Review', new_movie_review_path(@movie)
6:    -= link_to 'Update Review', edit_movie_review_path(@movie)
  
app/views/reviews/index.html.haml:6: syntax error, unexpected '=', expecting `end'
app/views/reviews/index.html.haml:6: syntax error, unexpected '=', expecting `end'
app/views/reviews/index.html.haml:6: syntax error, unexpected '=', expecting `end'
app/views/reviews/index.html.haml:6: syntax error, unexpected '=', expecting `end'
app/views/reviews/index.html.haml:6: syntax error, unexpected '=', expecting `end'
app/views/reviews/index.html.haml:6: syntax error, unexpected '=', expecting `end'
Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:39:50 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 3.0ms | Allocations: 2448)
  Rendered layout layouts/application.html.haml (Duration: 3.3ms | Allocations: 2517)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.9ms | Allocations: 4686)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check %h2 All Review #{@movie.title}

    

= link_to 'Add Review', new_movie_review_path(@movie)
-= link_to 'Update Review', edit_movie_review_path(@movie)

):
1:    %h2 All Review #{@movie.title}
2:    
3:        
4:    
5:    = link_to 'Add Review', new_movie_review_path(@movie)
6:    -= link_to 'Update Review', edit_movie_review_path(@movie)
  
app/views/reviews/index.html.haml:6: syntax error, unexpected '=', expecting `end'
app/views/reviews/index.html.haml:6: syntax error, unexpected '=', expecting `end'
app/views/reviews/index.html.haml:6: syntax error, unexpected '=', expecting `end'
app/views/reviews/index.html.haml:6: syntax error, unexpected '=', expecting `end'
app/views/reviews/index.html.haml:6: syntax error, unexpected '=', expecting `end'
app/views/reviews/index.html.haml:6: syntax error, unexpected '=', expecting `end'
Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:40:18 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.1ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 6.3ms | Allocations: 2552)
  Rendered layout layouts/application.html.haml (Duration: 6.6ms | Allocations: 2627)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.3ms | Allocations: 5478)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check %h2 All Review #{@movie.title}

    

= link_to 'Add Review', new_movie_review_path(@movie)
-== link_to 'Update Review', edit_movie_review_path(@movie)

):
1:    %h2 All Review #{@movie.title}
2:    
3:        
4:    
5:    = link_to 'Add Review', new_movie_review_path(@movie)
6:    -== link_to 'Update Review', edit_movie_review_path(@movie)
  
app/views/reviews/index.html.haml:6: syntax error, unexpected ==, expecting `end'
app/views/reviews/index.html.haml:6: syntax error, unexpected ==, expecting `end'
app/views/reviews/index.html.haml:6: syntax error, unexpected ==, expecting `end'
app/views/reviews/index.html.haml:6: syntax error, unexpected ==, expecting `end'
app/views/reviews/index.html.haml:6: syntax error, unexpected ==, expecting `end'
app/views/reviews/index.html.haml:6: syntax error, unexpected ==, expecting `end'
Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:40:46 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 3.6ms | Allocations: 1781)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 5.9ms | Allocations: 2386)
  Rendered layout layouts/application.html.haml (Duration: 21.4ms | Allocations: 10905)
Completed 200 OK in 36ms (Views: 28.4ms | ActiveRecord: 0.4ms | Allocations: 13996)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:40:48 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 7.1ms | Allocations: 2270)
  Rendered movies/index.html.haml within layouts/application (Duration: 14.5ms | Allocations: 6264)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 21.0ms | Allocations: 9331)
Completed 200 OK in 36ms (Views: 24.0ms | ActiveRecord: 0.4ms | Allocations: 12188)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:40:49 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 8.4ms | Allocations: 3264)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 17.3ms | Allocations: 6374)
Completed 200 OK in 24ms (Views: 18.1ms | ActiveRecord: 0.3ms | Allocations: 8735)


Started GET "/movies/1/edit" for 127.0.0.1 at 2021-09-30 22:40:52 +0700
Processing by MoviesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
Redirected to http://localhost:3000/movies
Filter chain halted as :has_moviegoer_and_movie rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 1472)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:40:52 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.1ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 1.3ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 3.3ms | Allocations: 711)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 10.2ms | Allocations: 3813)
Completed 200 OK in 20ms (Views: 11.8ms | ActiveRecord: 0.3ms | Allocations: 5931)


Started POST "/auth/google_oauth2" for 127.0.0.1 at 2021-09-30 22:40:54 +0700
Started GET "/auth/google_oauth2/callback?state=1016bf91a62f4554f0bc4de6093b7ea38a7a576bb6b0116b&code=4/0AX4XfWgrubzqZobN98LjtPDkR8TmBS2Ei8vZHQwckfVGbJtO7Pff-GYUIit5lKiPWoDwpA&scope=email%20profile%20https://www.googleapis.com/auth/userinfo.profile%20openid%20https://www.googleapis.com/auth/userinfo.email&authuser=0&hd=email.kmutnb.ac.th&prompt=none" for 127.0.0.1 at 2021-09-30 22:40:56 +0700
Processing by SessionsController#create as HTML
  Parameters: {"state"=>"1016bf91a62f4554f0bc4de6093b7ea38a7a576bb6b0116b", "code"=>"4/0AX4XfWgrubzqZobN98LjtPDkR8TmBS2Ei8vZHQwckfVGbJtO7Pff-GYUIit5lKiPWoDwpA", "scope"=>"email profile https://www.googleapis.com/auth/userinfo.profile openid https://www.googleapis.com/auth/userinfo.email", "authuser"=>"0", "hd"=>"email.kmutnb.ac.th", "prompt"=>"none", "provider"=>"google_oauth2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."provider" = ? AND "moviegoers"."uid" = ? ORDER BY "moviegoers"."id" ASC LIMIT ?[0m  [["provider", "google_oauth2"], ["uid", "111274802945935273986"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://localhost:3000/movies
Completed 302 Found in 12ms (ActiveRecord: 0.7ms | Allocations: 3656)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:40:56 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.6ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 2.5ms | Allocations: 713)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 95)
  Rendered layout layouts/application.html.haml (Duration: 13.6ms | Allocations: 3837)
Completed 200 OK in 29ms (Views: 14.3ms | ActiveRecord: 2.3ms | Allocations: 8435)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:40:58 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.9ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 9.1ms | Allocations: 3474)
Completed 200 OK in 33ms (Views: 10.5ms | ActiveRecord: 1.3ms | Allocations: 9418)


Started GET "/movies/1/edit" for 127.0.0.1 at 2021-09-30 22:40:59 +0700
Processing by MoviesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:53:in `edit'
  Rendering layout layouts/application.html.haml
  Rendering movies/edit.html.haml within layouts/application
  Rendered movies/_movie_form.html.haml (Duration: 12.7ms | Allocations: 5327)
  Rendered movies/edit.html.haml within layouts/application (Duration: 17.0ms | Allocations: 7893)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 26.6ms | Allocations: 10962)
Completed 200 OK in 40ms (Views: 27.3ms | ActiveRecord: 0.8ms | Allocations: 13721)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:41:00 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.3ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 13.4ms | Allocations: 3536)
Completed 200 OK in 30ms (Views: 14.7ms | ActiveRecord: 0.7ms | Allocations: 6131)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:41:02 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 2.4ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 5.7ms | Allocations: 711)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 1.1ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 20.2ms | Allocations: 3884)
Completed 200 OK in 38ms (Views: 21.8ms | ActiveRecord: 1.0ms | Allocations: 6511)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:41:03 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 9.7ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 63.8ms | Allocations: 3536)
Completed 200 OK in 120ms (Views: 64.7ms | ActiveRecord: 0.8ms | Allocations: 6138)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:41:05 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.5ms | Allocations: 170)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 95)
  Rendered layout layouts/application.html.haml (Duration: 10.9ms | Allocations: 3407)
Completed 200 OK in 25ms (Views: 12.0ms | ActiveRecord: 0.6ms | Allocations: 6001)


Started GET "/movies/1/reviews/new" for 127.0.0.1 at 2021-09-30 22:41:08 +0700
Processing by ReviewsController#new as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  Rendering layout layouts/application.html.haml
  Rendering reviews/new.html.haml within layouts/application
  Rendered reviews/_movie_review_form.html.haml (Duration: 3.0ms | Allocations: 2099)
  Rendered reviews/new.html.haml within layouts/application (Duration: 7.5ms | Allocations: 4679)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.7ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 16.9ms | Allocations: 7749)
Completed 200 OK in 32ms (Views: 18.1ms | ActiveRecord: 0.9ms | Allocations: 11578)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:41:09 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.3ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 8.8ms | Allocations: 3536)
Completed 200 OK in 28ms (Views: 10.1ms | ActiveRecord: 0.7ms | Allocations: 6133)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:41:12 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.8ms | Allocations: 170)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 8.4ms | Allocations: 3403)
Completed 200 OK in 26ms (Views: 9.2ms | ActiveRecord: 0.6ms | Allocations: 5994)


Started GET "/movies/1/reviews/new" for 127.0.0.1 at 2021-09-30 22:41:13 +0700
Processing by ReviewsController#new as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (1.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  Rendering layout layouts/application.html.haml
  Rendering reviews/new.html.haml within layouts/application
  Rendered reviews/_movie_review_form.html.haml (Duration: 2.2ms | Allocations: 431)
  Rendered reviews/new.html.haml within layouts/application (Duration: 5.5ms | Allocations: 907)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 15.6ms | Allocations: 4077)
Completed 200 OK in 34ms (Views: 16.5ms | ActiveRecord: 1.6ms | Allocations: 6853)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:41:15 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.5ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 13.9ms | Allocations: 3536)
Completed 200 OK in 28ms (Views: 15.1ms | ActiveRecord: 0.8ms | Allocations: 6135)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:41:17 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.7ms | Allocations: 170)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 8.6ms | Allocations: 3403)
Completed 200 OK in 29ms (Views: 10.2ms | ActiveRecord: 0.8ms | Allocations: 6019)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:46:58 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 0.9ms | Allocations: 338)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 95)
  Rendered layout layouts/application.html.haml (Duration: 8.3ms | Allocations: 3530)
Completed 200 OK in 65ms (Views: 9.7ms | ActiveRecord: 1.2ms | Allocations: 20774)


Started GET "/movies/1/edit" for 127.0.0.1 at 2021-09-30 22:47:00 +0700
Processing by MoviesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:53:in `edit'
  Rendering layout layouts/application.html.haml
  Rendering movies/edit.html.haml within layouts/application
  Rendered movies/_movie_form.html.haml (Duration: 4.7ms | Allocations: 2700)
  Rendered movies/edit.html.haml within layouts/application (Duration: 6.7ms | Allocations: 3187)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 14.0ms | Allocations: 6358)
Completed 200 OK in 28ms (Views: 15.2ms | ActiveRecord: 0.7ms | Allocations: 8967)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:47:01 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.7ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.6ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 11.6ms | Allocations: 3537)
Completed 200 OK in 28ms (Views: 12.9ms | ActiveRecord: 1.2ms | Allocations: 6134)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:47:02 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.5ms | Allocations: 183)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 95)
  Rendered layout layouts/application.html.haml (Duration: 11.9ms | Allocations: 3390)
Completed 200 OK in 23ms (Views: 13.4ms | ActiveRecord: 0.7ms | Allocations: 6326)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:47:04 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.6ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 2.7ms | Allocations: 1193)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 11.3ms | Allocations: 4366)
Completed 200 OK in 22ms (Views: 12.1ms | ActiveRecord: 0.6ms | Allocations: 7036)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:47:06 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.3ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 11.9ms | Allocations: 3535)
Completed 200 OK in 29ms (Views: 13.1ms | ActiveRecord: 0.8ms | Allocations: 6134)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:47:08 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.8ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 3.1ms | Allocations: 711)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.6ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 16.5ms | Allocations: 3884)
Completed 200 OK in 31ms (Views: 18.0ms | ActiveRecord: 0.7ms | Allocations: 6511)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:47:09 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.0ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 8.8ms | Allocations: 3535)
Completed 200 OK in 25ms (Views: 9.8ms | ActiveRecord: 0.6ms | Allocations: 6134)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:47:11 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 1.0ms | Allocations: 170)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 10.5ms | Allocations: 3403)
Completed 200 OK in 25ms (Views: 12.9ms | ActiveRecord: 0.6ms | Allocations: 5994)


Started GET "/movies/1/reviews/new" for 127.0.0.1 at 2021-09-30 22:47:11 +0700
Processing by ReviewsController#new as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  Rendering layout layouts/application.html.haml
  Rendering reviews/new.html.haml within layouts/application
  Rendered reviews/_movie_review_form.html.haml (Duration: 0.8ms | Allocations: 445)
  Rendered reviews/new.html.haml within layouts/application (Duration: 2.1ms | Allocations: 924)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 8.6ms | Allocations: 4036)
Completed 200 OK in 32ms (Views: 9.4ms | ActiveRecord: 0.8ms | Allocations: 7712)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:47:13 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 2.6ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 14.9ms | Allocations: 3543)
Completed 200 OK in 31ms (Views: 16.0ms | ActiveRecord: 0.6ms | Allocations: 6143)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:47:15 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.6ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 2.6ms | Allocations: 711)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 12.0ms | Allocations: 3885)
Completed 200 OK in 29ms (Views: 13.4ms | ActiveRecord: 0.7ms | Allocations: 6513)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:47:28 +0700
Processing by MoviesController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.6ms | Allocations: 227)
  Rendered movies/index.html.haml within layouts/application (Duration: 4.9ms | Allocations: 1214)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 95)
  Rendered layout layouts/application.html.haml (Duration: 11.7ms | Allocations: 4460)
Completed 200 OK in 58ms (Views: 13.3ms | ActiveRecord: 3.5ms | Allocations: 19628)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:47:29 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.7ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.2ms | Allocations: 313)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 8.2ms | Allocations: 3481)
Completed 200 OK in 36ms (Views: 10.3ms | ActiveRecord: 2.0ms | Allocations: 9568)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:48:13 +0700
Processing by MoviesController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.6ms | Allocations: 227)
  Rendered movies/index.html.haml within layouts/application (Duration: 2.5ms | Allocations: 1215)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 95)
  Rendered layout layouts/application.html.haml (Duration: 9.3ms | Allocations: 4350)
Completed 200 OK in 49ms (Views: 10.6ms | ActiveRecord: 3.1ms | Allocations: 19603)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:48:14 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.7ms | Allocations: 212)
  Rendered movies/index.html.haml within layouts/application (Duration: 1.9ms | Allocations: 711)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 9.2ms | Allocations: 3884)
Completed 200 OK in 18ms (Views: 10.2ms | ActiveRecord: 0.4ms | Allocations: 6512)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:48:16 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 0.8ms | Allocations: 313)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 10.6ms | Allocations: 3481)
Completed 200 OK in 32ms (Views: 11.4ms | ActiveRecord: 1.1ms | Allocations: 9565)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:48:31 +0700
Processing by MoviesController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.6ms | Allocations: 228)
  Rendered movies/index.html.haml within layouts/application (Duration: 2.3ms | Allocations: 1215)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 95)
  Rendered layout layouts/application.html.haml (Duration: 9.0ms | Allocations: 4350)
Completed 200 OK in 57ms (Views: 10.3ms | ActiveRecord: 3.1ms | Allocations: 19600)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:48:32 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.3ms | Allocations: 313)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.6ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 14.3ms | Allocations: 3481)
Completed 200 OK in 48ms (Views: 15.3ms | ActiveRecord: 2.2ms | Allocations: 9569)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:48:43 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.8ms | Allocations: 183)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.8ms | Allocations: 95)
  Rendered layout layouts/application.html.haml (Duration: 13.1ms | Allocations: 3397)
Completed 200 OK in 29ms (Views: 15.2ms | ActiveRecord: 0.7ms | Allocations: 6312)


Started GET "/movies/new" for 127.0.0.1 at 2021-09-30 22:48:48 +0700
Processing by MoviesController#new as HTML
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.haml
  Rendering movies/new.html.haml within layouts/application
  Rendered movies/_movie_form.html.haml (Duration: 5.2ms | Allocations: 2695)
  Rendered movies/new.html.haml within layouts/application (Duration: 9.9ms | Allocations: 5070)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 18.8ms | Allocations: 8141)
Completed 200 OK in 32ms (Views: 19.9ms | ActiveRecord: 0.5ms | Allocations: 10364)


Started POST "/movies" for 127.0.0.1 at 2021-09-30 22:48:51 +0700
Processing by MoviesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "movie"=>{"title"=>"aa", "rating"=>"G", "release_date(1i)"=>"2021", "release_date(2i)"=>"9", "release_date(3i)"=>"30", "description"=>""}, "commit"=>"Save Changes"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/movies_controller.rb:41:in `create'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("title", "rating", "description", "release_date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Aa"], ["rating", "G"], ["description", ""], ["release_date", "2021-09-30 00:00:00"], ["created_at", "2021-09-30 15:48:51.196830"], ["updated_at", "2021-09-30 15:48:51.196830"]]
  â†³ app/controllers/movies_controller.rb:41:in `create'
  [1m[36mTRANSACTION (200.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/movies_controller.rb:41:in `create'
Redirected to http://localhost:3000/movies
Completed 302 Found in 229ms (ActiveRecord: 201.3ms | Allocations: 7372)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:48:51 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 2.3ms | Allocations: 212)
  Rendered movies/_movie.html.haml (Duration: 1.0ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 6.7ms | Allocations: 867)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 14.1ms | Allocations: 4045)
Completed 200 OK in 24ms (Views: 14.9ms | ActiveRecord: 0.6ms | Allocations: 6498)


Started GET "/movies/2" for 127.0.0.1 at 2021-09-30 22:48:52 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.2ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 8.5ms | Allocations: 3535)
Completed 200 OK in 25ms (Views: 9.4ms | ActiveRecord: 0.9ms | Allocations: 6118)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:49:35 +0700
Processing by MoviesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.7ms | Allocations: 227)
  Rendered movies/_movie.html.haml (Duration: 0.2ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 3.1ms | Allocations: 1370)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 95)
  Rendered layout layouts/application.html.haml (Duration: 14.5ms | Allocations: 4505)
Completed 200 OK in 67ms (Views: 16.4ms | ActiveRecord: 5.0ms | Allocations: 19813)


Started GET "/movies/2" for 127.0.0.1 at 2021-09-30 22:49:37 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.8ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:20:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.3ms | Allocations: 313)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 13.8ms | Allocations: 3530)
Completed 200 OK in 34ms (Views: 14.8ms | ActiveRecord: 1.4ms | Allocations: 6310)


Started GET "/movies/2/edit" for 127.0.0.1 at 2021-09-30 22:49:40 +0700
Processing by MoviesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:54:in `edit'
  Rendering layout layouts/application.html.haml
  Rendering movies/edit.html.haml within layouts/application
  Rendered movies/_movie_form.html.haml (Duration: 5.0ms | Allocations: 2700)
  Rendered movies/edit.html.haml within layouts/application (Duration: 7.2ms | Allocations: 3187)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 1.1ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 17.6ms | Allocations: 6361)
Completed 200 OK in 29ms (Views: 19.3ms | ActiveRecord: 0.5ms | Allocations: 8956)


Started GET "/movies/2" for 127.0.0.1 at 2021-09-30 22:49:41 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:20:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.4ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.7ms | Allocations: 92)
  Rendered layout layouts/application.html.haml (Duration: 30.5ms | Allocations: 3529)
Completed 200 OK in 48ms (Views: 31.9ms | ActiveRecord: 0.9ms | Allocations: 6126)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 22:49:43 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 1.8ms | Allocations: 183)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 95)
  Rendered layout layouts/application.html.haml (Duration: 10.4ms | Allocations: 3397)
Completed 200 OK in 21ms (Views: 12.2ms | ActiveRecord: 0.4ms | Allocations: 6321)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:49:45 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 1.0ms | Allocations: 212)
  Rendered movies/_movie.html.haml (Duration: 0.6ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 4.7ms | Allocations: 866)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 1.0ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 16.5ms | Allocations: 4039)
Completed 200 OK in 29ms (Views: 17.8ms | ActiveRecord: 0.6ms | Allocations: 6681)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:49:47 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:20:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 0.8ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 12.9ms | Allocations: 3463)
Completed 200 OK in 34ms (Views: 13.6ms | ActiveRecord: 1.4ms | Allocations: 9442)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 22:49:50 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.6ms | Allocations: 170)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 2.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 11.7ms | Allocations: 3414)
Completed 200 OK in 28ms (Views: 13.6ms | ActiveRecord: 0.6ms | Allocations: 6014)


Started GET "/movies/1/reviews/new" for 127.0.0.1 at 2021-09-30 22:49:51 +0700
Processing by ReviewsController#new as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  Rendering layout layouts/application.html.haml
  Rendering reviews/new.html.haml within layouts/application
  Rendered reviews/_movie_review_form.html.haml (Duration: 1.1ms | Allocations: 444)
  Rendered reviews/new.html.haml within layouts/application (Duration: 3.8ms | Allocations: 923)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 10.6ms | Allocations: 4028)
Completed 200 OK in 24ms (Views: 12.3ms | ActiveRecord: 0.5ms | Allocations: 7700)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 22:49:52 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:20:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 2.0ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 55.3ms | Allocations: 3524)
Completed 200 OK in 76ms (Views: 57.3ms | ActiveRecord: 0.8ms | Allocations: 6137)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:51:08 +0700
Processing by MoviesController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.6ms | Allocations: 227)
  Rendered movies/_movie.html.haml (Duration: 0.2ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 3.2ms | Allocations: 1370)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 95)
  Rendered layout layouts/application.html.haml (Duration: 9.8ms | Allocations: 4509)
Completed 200 OK in 50ms (Views: 11.0ms | ActiveRecord: 3.1ms | Allocations: 19785)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:51:09 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 1.4ms | Allocations: 212)
  Rendered movies/_movie.html.haml (Duration: 0.9ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 5.3ms | Allocations: 866)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 13.4ms | Allocations: 4039)
Completed 200 OK in 23ms (Views: 14.2ms | ActiveRecord: 0.4ms | Allocations: 6681)


Started GET "/movies/2" for 127.0.0.1 at 2021-09-30 22:51:11 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.8ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.0ms | Allocations: 313)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 13.4ms | Allocations: 3549)
Completed 200 OK in 30ms (Views: 14.5ms | ActiveRecord: 1.4ms | Allocations: 6311)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:51:38 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 3.4ms | Allocations: 2270)
  Rendered movies/_movie.html.haml (Duration: 1.2ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 20.9ms | Allocations: 6490)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 4.1ms | Allocations: 2401)
  Rendered layout layouts/application.html.haml (Duration: 42.1ms | Allocations: 15469)
Completed 200 OK in 65ms (Views: 45.7ms | ActiveRecord: 0.8ms | Allocations: 19024)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:51:39 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.5ms | Allocations: 212)
  Rendered movies/_movie.html.haml (Duration: 0.3ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 2.2ms | Allocations: 866)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.7ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 9.1ms | Allocations: 4039)
Completed 200 OK in 19ms (Views: 9.9ms | ActiveRecord: 0.5ms | Allocations: 6676)


Started GET "/movies/2" for 127.0.0.1 at 2021-09-30 22:51:40 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 4.9ms | Allocations: 3387)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 16.1ms | Allocations: 6521)
Completed 200 OK in 33ms (Views: 17.0ms | ActiveRecord: 0.8ms | Allocations: 9264)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 22:51:42 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 7.6ms | Allocations: 3047)
  Rendered layout layouts/application.html.haml (Duration: 7.9ms | Allocations: 3130)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.4ms | Allocations: 6431)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"reviews", :movie_id=>#<Movie id: 2, title: "Aa", rating: "G", description: "", release_date: "2021-09-30 00:00:00.000000000 +0000", created_at: "2021-09-30 15:48:51.196830000 +0000", updated_at: "2021-09-30 15:48:51.196830000 +0000">}, missing required keys: [:id]
Did you mean?  movie_review_url
               movie_reviews_url
               movie_reviews_path
               new_movie_review_url):
    3:     
    4: 
    5: = link_to 'Add Review', new_movie_review_path(@movie)
    6: = link_to 'Update Review', movie_review_path(@movie)
  
app/views/reviews/index.html.haml:6
Started GET "/movies" for 127.0.0.1 at 2021-09-30 22:52:00 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.8ms | Allocations: 212)
  Rendered movies/_movie.html.haml (Duration: 0.5ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 4.0ms | Allocations: 867)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 10.6ms | Allocations: 4046)
Completed 200 OK in 22ms (Views: 11.9ms | ActiveRecord: 0.9ms | Allocations: 6680)


Started GET "/movies/2" for 127.0.0.1 at 2021-09-30 22:53:47 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 0.9ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 10.6ms | Allocations: 3535)
Completed 200 OK in 27ms (Views: 11.5ms | ActiveRecord: 0.7ms | Allocations: 6117)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 22:53:49 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 2.4ms | Allocations: 1470)
  Rendered layout layouts/application.html.haml (Duration: 2.7ms | Allocations: 1549)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.7ms | Allocations: 4089)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"reviews", :movie_id=>#<Movie id: 2, title: "Aa", rating: "G", description: "", release_date: "2021-09-30 00:00:00.000000000 +0000", created_at: "2021-09-30 15:48:51.196830000 +0000", updated_at: "2021-09-30 15:48:51.196830000 +0000">}, missing required keys: [:id]
Did you mean?  movie_review_url
               movie_reviews_url
               movie_reviews_path
               new_movie_review_url):
    3:     
    4: 
    5: = link_to 'Add Review', new_movie_review_path(@movie)
    6: = link_to 'Update Review', movie_review_path(@movie)
  
app/views/reviews/index.html.haml:6
Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 22:58:52 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 8.7ms | Allocations: 6281)
  Rendered layout layouts/application.html.haml (Duration: 9.1ms | Allocations: 6364)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.5ms | Allocations: 9755)


  
ActionView::Template::Error (undefined local variable or method `id' for #<ActionView::Base:0x0000000001e398>
Did you mean?  @@id):
    3:     
    4: 
    5: = link_to 'Add Review', new_movie_review_path(@movie)
    6: = link_to 'Update Review', movie_review_path(@movie, id)
  
app/views/reviews/index.html.haml:6
Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 22:59:05 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 8.8ms | Allocations: 4613)
  Rendered layout layouts/application.html.haml (Duration: 10.0ms | Allocations: 4696)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.6ms | Allocations: 8085)


  
ActionView::Template::Error (uninitialized class variable @@id in #<Class:0x000055c081e86fb0>):
    3:     
    4: 
    5: = link_to 'Add Review', new_movie_review_path(@movie)
    6: = link_to 'Update Review', movie_review_path(@movie, @@id)
  
app/views/reviews/index.html.haml:6
Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 22:59:15 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 2.8ms | Allocations: 1929)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.7ms | Allocations: 2407)
  Rendered layout layouts/application.html.haml (Duration: 24.5ms | Allocations: 11077)
Completed 200 OK in 37ms (Views: 28.2ms | ActiveRecord: 0.5ms | Allocations: 14512)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 22:59:18 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 5.9ms | Allocations: 3657)
  Rendered layout layouts/application.html.haml (Duration: 6.3ms | Allocations: 3736)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.8ms | Allocations: 6910)


  
ActionView::Template::Error (undefined method `potatoes' for nil:NilClass):
    2: 
    3: %h2 Review about #{@movie.title}
    4: 
    5: %h3 Potatoes: #{@moviegoer_reviews.potatoes}
    6: %h3 Comment:
    7: %p#:comments=@moviegoer_reviews.comments
    8: 
  
app/views/reviews/show.html.haml:5
Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 22:59:45 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 3.1ms | Allocations: 1927)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.2ms | Allocations: 2404)
  Rendered layout layouts/application.html.haml (Duration: 21.1ms | Allocations: 11069)
Completed 200 OK in 37ms (Views: 24.8ms | ActiveRecord: 0.5ms | Allocations: 14502)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 22:59:46 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 4.8ms | Allocations: 3623)
  Rendered layout layouts/application.html.haml (Duration: 5.1ms | Allocations: 3702)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.6ms | Allocations: 6863)


  
ActionView::Template::Error (undefined method `potatoes' for nil:NilClass):
    2: 
    3: %h2 Review about #{@movie.title}
    4: 
    5: %h3 Potatoes: #{@moviegoer_reviews.potatoes}
    6: %h3 Comment:
    7: %p#:comments=@moviegoer_reviews.comments
    8: 
  
app/views/reviews/show.html.haml:5
Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:02:42 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.7ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 2.8ms | Allocations: 1442)
  Rendered layout layouts/application.html.haml (Duration: 3.4ms | Allocations: 1525)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 5.2ms | Allocations: 14740)


  
ActionView::Template::Error (undefined method `potatoes' for nil:NilClass):
    2: 
    3: %h2 Review about #{@movie.title}
    4: 
    5: %h3 Potatoes: #{@moviegoer_reviews.potatoes}
    6: %h3 Comment:
    7: %p#:comments=@moviegoer_reviews.comments
    8: 
  
app/views/reviews/show.html.haml:5
Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:02:51 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 1.6ms | Allocations: 9571)


  
NameError (undefined local variable or method `aa' for #<ReviewsController:0x00000000022588>):
  
app/controllers/application_controller.rb:11:in `rescue in set_current_user'
app/controllers/application_controller.rb:7:in `set_current_user'
Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:03:27 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 2.7ms | Allocations: 1442)
  Rendered layout layouts/application.html.haml (Duration: 3.4ms | Allocations: 1525)
Completed 500 Internal Server Error in 53ms (ActiveRecord: 4.6ms | Allocations: 17390)


  
ActionView::Template::Error (undefined method `potatoes' for nil:NilClass):
    2: 
    3: %h2 Review about #{@movie.title}
    4: 
    5: %h3 Potatoes: #{@moviegoer_reviews.potatoes}
    6: %h3 Comment:
    7: %p#:comments=@moviegoer_reviews.comments
    8: 
  
app/views/reviews/show.html.haml:5
Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:03:36 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.7ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 3.1ms | Allocations: 1443)
  Rendered layout layouts/application.html.haml (Duration: 3.6ms | Allocations: 1526)
Completed 500 Internal Server Error in 60ms (ActiveRecord: 4.7ms | Allocations: 17411)


  
ActionView::Template::Error (undefined method `potatoes' for nil:NilClass):
    2: 
    3: %h2 Review about #{@movie.title}
    4: 
    5: %h3 Potatoes: #{@moviegoer_reviews.potatoes}
    6: %h3 Comment:
    7: %p#:comments=@moviegoer_reviews.comments
    8: 
  
app/views/reviews/show.html.haml:5
Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:03:51 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.6ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 2.3ms | Allocations: 1442)
  Rendered layout layouts/application.html.haml (Duration: 2.7ms | Allocations: 1525)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 4.8ms | Allocations: 17390)


  
ActionView::Template::Error (undefined method `potatoes' for nil:NilClass):
    2: 
    3: %h2 Review about #{@movie.title}
    4: 
    5: %h3 Potatoes: #{@moviegoer_reviews.potatoes}
    6: %h3 Comment:
    7: %p#:comments=@moviegoer_reviews.comments
    8: 
  
app/views/reviews/show.html.haml:5
Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:04:03 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 2.1ms | Allocations: 1443)
  Rendered layout layouts/application.html.haml (Duration: 2.5ms | Allocations: 1526)
Completed 500 Internal Server Error in 60ms (ActiveRecord: 2.9ms | Allocations: 17416)


  
ActionView::Template::Error (undefined method `potatoes' for nil:NilClass):
    2: 
    3: %h2 Review about #{@movie.title}
    4: 
    5: %h3 Potatoes: #{@moviegoer_reviews.potatoes}
    6: %h3 Comment:
    7: %p#:comments=@moviegoer_reviews.comments
    8: 
  
app/views/reviews/show.html.haml:5
Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:04:16 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 2.5ms | Allocations: 1442)
  Rendered layout layouts/application.html.haml (Duration: 2.8ms | Allocations: 1525)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 4.4ms | Allocations: 17390)


  
ActionView::Template::Error (undefined method `potatoes' for nil:NilClass):
    2: 
    3: %h2 Review about #{@movie.title}
    4: 
    5: %h3 Potatoes: #{@moviegoer_reviews.potatoes}
    6: %h3 Comment:
    7: %p#:comments=@moviegoer_reviews.comments
    8: 
  
app/views/reviews/show.html.haml:5
Started GET "/movies/2/" for 127.0.0.1 at 2021-09-30 23:04:21 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 4.1ms | Allocations: 3377)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 95)
  Rendered layout layouts/application.html.haml (Duration: 13.3ms | Allocations: 6529)
Completed 200 OK in 28ms (Views: 15.3ms | ActiveRecord: 0.7ms | Allocations: 9867)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:04:22 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.6ms | Allocations: 208)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 95)
  Rendered layout layouts/application.html.haml (Duration: 6.9ms | Allocations: 3452)
Completed 200 OK in 21ms (Views: 7.6ms | ActiveRecord: 1.0ms | Allocations: 6068)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:04:23 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 4.5ms | Allocations: 1492)
  Rendered layout layouts/application.html.haml (Duration: 5.2ms | Allocations: 1571)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.5ms | Allocations: 4609)


  
ActionView::Template::Error (undefined method `potatoes' for nil:NilClass):
    2: 
    3: %h2 Review about #{@movie.title}
    4: 
    5: %h3 Potatoes: #{@moviegoer_reviews.potatoes}
    6: %h3 Comment:
    7: %p#:comments=@moviegoer_reviews.comments
    8: 
  
app/views/reviews/show.html.haml:5
Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:05:03 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mCACHE Review Load (0.0ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 2.1ms | Allocations: 1442)
  Rendered layout layouts/application.html.haml (Duration: 2.4ms | Allocations: 1525)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 4.4ms | Allocations: 18059)


  
ActionView::Template::Error (undefined method `potatoes' for nil:NilClass):
    2: 
    3: %h2 Review about #{@movie.title}
    4: 
    5: %h3 Potatoes: #{@moviegoer_reviews.potatoes}
    6: %h3 Comment:
    7: %p#:comments=@moviegoer_reviews.comments
    8: 
  
app/views/reviews/show.html.haml:5
Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:05:14 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 1.8ms | Allocations: 1442)
  Rendered layout layouts/application.html.haml (Duration: 2.0ms | Allocations: 1525)
Completed 500 Internal Server Error in 47ms (ActiveRecord: 3.0ms | Allocations: 17391)


  
ActionView::Template::Error (undefined method `potatoes' for nil:NilClass):
    2: 
    3: %h2 Review about #{@movie.title}
    4: 
    5: %h3 Potatoes: #{@moviegoer_reviews.potatoes}
    6: %h3 Comment:
    7: %p#:comments=@moviegoer_reviews.comments
    8: 
  
app/views/reviews/show.html.haml:5
Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:05:16 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.6ms | Allocations: 213)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 98)
  Rendered layout layouts/application.html.haml (Duration: 9.8ms | Allocations: 3467)
Completed 200 OK in 18ms (Views: 10.5ms | ActiveRecord: 0.6ms | Allocations: 6077)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:05:18 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 3.6ms | Allocations: 1492)
  Rendered layout layouts/application.html.haml (Duration: 4.2ms | Allocations: 1571)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.5ms | Allocations: 4605)


  
ActionView::Template::Error (undefined method `potatoes' for nil:NilClass):
    2: 
    3: %h2 Review about #{@movie.title}
    4: 
    5: %h3 Potatoes: #{@moviegoer_reviews.potatoes}
    6: %h3 Comment:
    7: %p#:comments=@moviegoer_reviews.comments
    8: 
  
app/views/reviews/show.html.haml:5
Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:05:57 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 4.0ms | Allocations: 2542)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.4ms | Allocations: 2407)
  Rendered layout layouts/application.html.haml (Duration: 22.1ms | Allocations: 11687)
Completed 200 OK in 140ms (Views: 24.3ms | ActiveRecord: 3.4ms | Allocations: 28086)


Started GET "/movies/2/reviews/id/edit" for 127.0.0.1 at 2021-09-30 23:06:01 +0700
Processing by ReviewsController#edit as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:43:in `edit'
  Rendering layout layouts/application.html.haml
  Rendering reviews/edit.html.haml within layouts/application
  Rendered reviews/_movie_review_form.html.haml (Duration: 4.1ms | Allocations: 2038)
  Rendered reviews/edit.html.haml within layouts/application (Duration: 14.1ms | Allocations: 4683)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 23.6ms | Allocations: 7754)
Completed 200 OK in 41ms (Views: 24.4ms | ActiveRecord: 0.7ms | Allocations: 10966)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:06:02 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 0.9ms | Allocations: 235)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.6ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 9.8ms | Allocations: 3467)
Completed 200 OK in 32ms (Views: 11.0ms | ActiveRecord: 0.9ms | Allocations: 6550)


Started GET "/movies/2" for 127.0.0.1 at 2021-09-30 23:06:06 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 4.2ms | Allocations: 3363)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 92)
  Rendered layout layouts/application.html.haml (Duration: 13.5ms | Allocations: 6504)
Completed 200 OK in 28ms (Views: 15.6ms | ActiveRecord: 0.6ms | Allocations: 9840)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:06:09 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 2.8ms | Allocations: 1908)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 10.5ms | Allocations: 5039)
Completed 200 OK in 24ms (Views: 11.5ms | ActiveRecord: 0.8ms | Allocations: 7813)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:07:18 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 2.7ms | Allocations: 1922)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.0ms | Allocations: 2402)
  Rendered layout layouts/application.html.haml (Duration: 18.0ms | Allocations: 11047)
Completed 200 OK in 32ms (Views: 20.2ms | ActiveRecord: 0.6ms | Allocations: 14512)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:07:20 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 7.6ms | Allocations: 2481)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 15.0ms | Allocations: 5611)
Completed 200 OK in 35ms (Views: 15.9ms | ActiveRecord: 1.0ms | Allocations: 8822)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:07:21 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.8ms | Allocations: 198)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 13.4ms | Allocations: 3463)
Completed 200 OK in 31ms (Views: 14.7ms | ActiveRecord: 0.8ms | Allocations: 6054)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:07:22 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 1.1ms | Allocations: 234)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.7ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 11.9ms | Allocations: 3466)
Completed 200 OK in 30ms (Views: 13.5ms | ActiveRecord: 0.6ms | Allocations: 6551)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:08:18 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 0.7ms | Allocations: 258)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 98)
  Rendered layout layouts/application.html.haml (Duration: 9.4ms | Allocations: 3447)
Completed 200 OK in 56ms (Views: 10.8ms | ActiveRecord: 3.0ms | Allocations: 19297)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:08:19 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 0.7ms | Allocations: 234)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 10.6ms | Allocations: 3466)
Completed 200 OK in 19ms (Views: 11.2ms | ActiveRecord: 0.4ms | Allocations: 6552)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 23:08:20 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 2.9ms | Allocations: 2277)
  Rendered movies/_movie.html.haml (Duration: 0.2ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 13.6ms | Allocations: 6928)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 92)
  Rendered layout layouts/application.html.haml (Duration: 22.6ms | Allocations: 10021)
Completed 200 OK in 36ms (Views: 24.4ms | ActiveRecord: 0.9ms | Allocations: 13478)


Started GET "/movies/2" for 127.0.0.1 at 2021-09-30 23:08:22 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 6.3ms | Allocations: 3332)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 12.9ms | Allocations: 6459)
Completed 200 OK in 24ms (Views: 14.0ms | ActiveRecord: 0.4ms | Allocations: 9162)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:08:26 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.7ms | Allocations: 203)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 6.9ms | Allocations: 3436)
Completed 200 OK in 21ms (Views: 7.7ms | ActiveRecord: 0.6ms | Allocations: 6030)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:08:27 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 1.0ms | Allocations: 234)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 13.1ms | Allocations: 3466)
Completed 200 OK in 33ms (Views: 14.3ms | ActiveRecord: 0.7ms | Allocations: 6551)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:08:35 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 0.7ms | Allocations: 258)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 98)
  Rendered layout layouts/application.html.haml (Duration: 8.7ms | Allocations: 3661)
Completed 200 OK in 45ms (Views: 9.9ms | ActiveRecord: 2.5ms | Allocations: 16918)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 23:08:38 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.8ms | Allocations: 223)
  Rendered movies/_movie.html.haml (Duration: 0.6ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 4.3ms | Allocations: 1365)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 92)
  Rendered layout layouts/application.html.haml (Duration: 11.9ms | Allocations: 4490)
Completed 200 OK in 22ms (Views: 13.8ms | ActiveRecord: 0.5ms | Allocations: 6948)


Started GET "/movies/2" for 127.0.0.1 at 2021-09-30 23:08:39 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.5ms | Allocations: 312)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.8ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 12.5ms | Allocations: 3480)
Completed 200 OK in 22ms (Views: 14.2ms | ActiveRecord: 0.5ms | Allocations: 5531)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:08:41 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 1.0ms | Allocations: 203)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 8.1ms | Allocations: 3375)
Completed 200 OK in 18ms (Views: 9.0ms | ActiveRecord: 0.4ms | Allocations: 5443)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:08:42 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 1.7ms | Allocations: 234)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 11.0ms | Allocations: 3405)
Completed 200 OK in 25ms (Views: 12.0ms | ActiveRecord: 0.5ms | Allocations: 5959)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:11:42 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 0.6ms | Allocations: 258)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 99)
  Rendered layout layouts/application.html.haml (Duration: 26.2ms | Allocations: 3448)
Completed 200 OK in 76ms (Views: 27.4ms | ActiveRecord: 3.2ms | Allocations: 19297)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:13:21 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 5.5ms | Allocations: 1931)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 4.3ms | Allocations: 2405)
  Rendered layout layouts/application.html.haml (Duration: 23.7ms | Allocations: 11074)
Completed 200 OK in 44ms (Views: 27.1ms | ActiveRecord: 1.1ms | Allocations: 14577)


Started GET "/movies/2/reviews/new" for 127.0.0.1 at 2021-09-30 23:13:23 +0700
Processing by ReviewsController#new as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.6ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  Rendering layout layouts/application.html.haml
  Rendering reviews/new.html.haml within layouts/application
  Rendered reviews/_movie_review_form.html.haml (Duration: 3.0ms | Allocations: 2096)
  Rendered reviews/new.html.haml within layouts/application (Duration: 7.2ms | Allocations: 4605)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 15.9ms | Allocations: 7674)
Completed 200 OK in 40ms (Views: 16.6ms | ActiveRecord: 1.5ms | Allocations: 14240)


Started POST "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:13:25 +0700
Processing by ReviewsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "review"=>{"potatoes"=>"1", "comments"=>"dasd"}, "commit"=>"Create Review", "movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/reviews_controller.rb:32:in `create'
  [1m[36mReview Create (0.4ms)[0m  [1m[32mINSERT INTO "reviews" ("potatoes", "comments", "moviegoer_id", "movie_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["potatoes", 1], ["comments", "dasd"], ["moviegoer_id", 2], ["movie_id", 2], ["created_at", "2021-09-30 16:13:25.508250"], ["updated_at", "2021-09-30 16:13:25.508250"]]
  â†³ app/controllers/reviews_controller.rb:32:in `create'
  [1m[36mTRANSACTION (112.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/reviews_controller.rb:32:in `create'
Redirected to http://localhost:3000/movies/2
Completed 302 Found in 148ms (ActiveRecord: 114.3ms | Allocations: 9142)


Started GET "/movies/2" for 127.0.0.1 at 2021-09-30 23:13:25 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 7.9ms | Allocations: 3361)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 92)
  Rendered layout layouts/application.html.haml (Duration: 14.6ms | Allocations: 6507)
Completed 200 OK in 24ms (Views: 16.4ms | ActiveRecord: 0.5ms | Allocations: 9893)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:13:27 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (1.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.5ms | Allocations: 198)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 13.8ms | Allocations: 3431)
Completed 200 OK in 30ms (Views: 14.6ms | ActiveRecord: 2.0ms | Allocations: 6023)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:13:28 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 3.2ms | Allocations: 2566)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 11.4ms | Allocations: 5696)
Completed 200 OK in 24ms (Views: 12.0ms | ActiveRecord: 0.6ms | Allocations: 8931)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:13:46 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.1ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 5.3ms | Allocations: 3719)
  Rendered layout layouts/application.html.haml (Duration: 5.6ms | Allocations: 3802)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.4ms | Allocations: 7720)


  
ActionView::Template::Error (undefined method `potatoes' for nil:NilClass):
    2: 
    3: %h2 Review about #{@movie.title}
    4: 
    5: %h3 Potatoes: #{@moviegoer_reviews.potatoes}
    6: %h3 Comment:
    7: %p#:comments=@moviegoer_reviews
    8: 
  
app/views/reviews/show.html.haml:5
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mReview Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reviews" WHERE "reviews"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (109.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mReview Destroy (0.7ms)[0m  [1m[31mDELETE FROM "reviews" WHERE "reviews"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (91.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mReview Destroy (0.7ms)[0m  [1m[31mDELETE FROM "reviews" WHERE "reviews"."id" = ?[0m  [["id", 3]]
  [1m[36mTRANSACTION (82.0ms)[0m  [1m[36mcommit transaction[0m
Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:14:22 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 5.6ms | Allocations: 1908)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 4.3ms | Allocations: 2404)
  Rendered layout layouts/application.html.haml (Duration: 25.2ms | Allocations: 11045)
Completed 200 OK in 37ms (Views: 26.5ms | ActiveRecord: 0.5ms | Allocations: 13753)


Started GET "/movies/2/reviews/new" for 127.0.0.1 at 2021-09-30 23:14:23 +0700
Processing by ReviewsController#new as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  Rendering layout layouts/application.html.haml
  Rendering reviews/new.html.haml within layouts/application
  Rendered reviews/_movie_review_form.html.haml (Duration: 6.2ms | Allocations: 2083)
  Rendered reviews/new.html.haml within layouts/application (Duration: 11.3ms | Allocations: 4650)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 19.6ms | Allocations: 7719)
Completed 200 OK in 34ms (Views: 20.3ms | ActiveRecord: 0.6ms | Allocations: 10617)


Started POST "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:14:28 +0700
Processing by ReviewsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "review"=>{"potatoes"=>"3", "comments"=>"pppp"}, "commit"=>"Create Review", "movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/reviews_controller.rb:32:in `create'
  [1m[36mReview Create (0.4ms)[0m  [1m[32mINSERT INTO "reviews" ("potatoes", "comments", "moviegoer_id", "movie_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["potatoes", 3], ["comments", "pppp"], ["moviegoer_id", 2], ["movie_id", 2], ["created_at", "2021-09-30 16:14:28.229314"], ["updated_at", "2021-09-30 16:14:28.229314"]]
  â†³ app/controllers/reviews_controller.rb:32:in `create'
  [1m[36mTRANSACTION (119.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/reviews_controller.rb:32:in `create'
Redirected to http://localhost:3000/movies/2
Completed 302 Found in 149ms (ActiveRecord: 120.4ms | Allocations: 8642)


Started GET "/movies/2" for 127.0.0.1 at 2021-09-30 23:14:28 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.5ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 8.8ms | Allocations: 3396)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.8ms | Allocations: 92)
  Rendered layout layouts/application.html.haml (Duration: 18.2ms | Allocations: 6542)
Completed 200 OK in 38ms (Views: 22.7ms | ActiveRecord: 0.8ms | Allocations: 9544)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:14:30 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.6ms | Allocations: 199)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 14.9ms | Allocations: 3439)
Completed 200 OK in 41ms (Views: 15.9ms | ActiveRecord: 0.7ms | Allocations: 6034)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:14:31 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", nil], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 3.8ms | Allocations: 1492)
  Rendered layout layouts/application.html.haml (Duration: 4.2ms | Allocations: 1571)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 1.0ms | Allocations: 4605)


  
ActionView::Template::Error (undefined method `potatoes' for nil:NilClass):
    2: 
    3: %h2 Review about #{@movie.title}
    4: 
    5: %h3 Potatoes: #{@moviegoer_reviews.potatoes}
    6: %h3 Comment:
    7: %p#:comments=@moviegoer_reviews
    8: 
  
app/views/reviews/show.html.haml:5
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:15:19 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 0.8ms | Allocations: 268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 98)
  Rendered layout layouts/application.html.haml (Duration: 7.2ms | Allocations: 3464)
Completed 200 OK in 59ms (Views: 8.7ms | ActiveRecord: 3.3ms | Allocations: 22611)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:15:38 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.8ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 3.5ms | Allocations: 2595)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.3ms | Allocations: 2403)
  Rendered layout layouts/application.html.haml (Duration: 22.0ms | Allocations: 11725)
Completed 200 OK in 37ms (Views: 24.3ms | ActiveRecord: 1.2ms | Allocations: 15709)


Started GET "/movies/2/reviews/id/edit" for 127.0.0.1 at 2021-09-30 23:17:58 +0700
Processing by ReviewsController#edit as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:43:in `edit'
  Rendering layout layouts/application.html.haml
  Rendering reviews/edit.html.haml within layouts/application
  Rendered reviews/_movie_review_form.html.haml (Duration: 3.1ms | Allocations: 2034)
  Rendered reviews/edit.html.haml within layouts/application (Duration: 11.7ms | Allocations: 4674)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 1.0ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 19.8ms | Allocations: 7745)
Completed 200 OK in 32ms (Views: 20.7ms | ActiveRecord: 0.6ms | Allocations: 10971)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:17:59 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 1.8ms | Allocations: 237)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 11.3ms | Allocations: 3469)
Completed 200 OK in 28ms (Views: 12.5ms | ActiveRecord: 0.7ms | Allocations: 6598)


Started GET "/movies/2/reviews/id/edit" for 127.0.0.1 at 2021-09-30 23:18:00 +0700
Processing by ReviewsController#edit as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:43:in `edit'
  Rendering layout layouts/application.html.haml
  Rendering reviews/edit.html.haml within layouts/application
  Rendered reviews/_movie_review_form.html.haml (Duration: 2.6ms | Allocations: 381)
  Rendered reviews/edit.html.haml within layouts/application (Duration: 6.6ms | Allocations: 929)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 17.3ms | Allocations: 4101)
Completed 200 OK in 37ms (Views: 18.4ms | ActiveRecord: 0.8ms | Allocations: 7203)


Started PUT "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:18:05 +0700
Processing by ReviewsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "review"=>{"potatoes"=>"5", "comments"=>"kk"}, "commit"=>"Update Review", "movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:47:in `update'
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."movie_id" = ?[0m  [["movie_id", 2]]
  â†³ app/controllers/reviews_controller.rb:49:in `update'
  [1m[36mCACHE Moviegoer Load (0.0ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:49:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/reviews_controller.rb:49:in `update'
  [1m[36mReview Update (0.9ms)[0m  [1m[33mUPDATE "reviews" SET "potatoes" = ?, "comments" = ?, "updated_at" = ? WHERE "reviews"."id" = ?[0m  [["potatoes", 5], ["comments", "kk"], ["updated_at", "2021-09-30 16:18:05.944855"], ["id", 4]]
  â†³ app/controllers/reviews_controller.rb:49:in `update'
  [1m[36mTRANSACTION (116.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/reviews_controller.rb:49:in `update'
Redirected to http://localhost:3000/movies/2/reviews/id
Completed 302 Found in 163ms (ActiveRecord: 118.5ms | Allocations: 11633)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:18:06 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 0.7ms | Allocations: 237)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 7.7ms | Allocations: 3474)
Completed 200 OK in 19ms (Views: 8.7ms | ActiveRecord: 0.4ms | Allocations: 6381)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:18:09 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 4.5ms | Allocations: 1908)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 15.6ms | Allocations: 5039)
Completed 200 OK in 32ms (Views: 16.8ms | ActiveRecord: 0.7ms | Allocations: 7811)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:18:28 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 3.3ms | Allocations: 1929)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.4ms | Allocations: 2404)
  Rendered layout layouts/application.html.haml (Duration: 21.5ms | Allocations: 11069)
Completed 200 OK in 45ms (Views: 23.9ms | ActiveRecord: 0.6ms | Allocations: 14562)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:18:29 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 7.5ms | Allocations: 2488)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 14.0ms | Allocations: 5618)
Completed 200 OK in 35ms (Views: 15.8ms | ActiveRecord: 0.9ms | Allocations: 8847)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:18:32 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.9ms | Allocations: 198)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 11.6ms | Allocations: 3431)
Completed 200 OK in 27ms (Views: 13.3ms | ActiveRecord: 0.7ms | Allocations: 6043)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:21:50 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 3.7ms | Allocations: 2009)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 4.9ms | Allocations: 2403)
  Rendered layout layouts/application.html.haml (Duration: 20.1ms | Allocations: 11141)
Completed 200 OK in 33ms (Views: 22.3ms | ActiveRecord: 0.7ms | Allocations: 14627)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:21:51 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 3.2ms | Allocations: 2491)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 16.9ms | Allocations: 5621)
Completed 200 OK in 32ms (Views: 17.6ms | ActiveRecord: 1.0ms | Allocations: 8850)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:21:52 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 2], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 1.0ms | Allocations: 186)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 9.4ms | Allocations: 3419)
Completed 200 OK in 22ms (Views: 10.1ms | ActiveRecord: 0.7ms | Allocations: 6031)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 23:21:54 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 3.3ms | Allocations: 2274)
  Rendered movies/_movie.html.haml (Duration: 0.3ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 9.7ms | Allocations: 6917)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 92)
  Rendered layout layouts/application.html.haml (Duration: 19.5ms | Allocations: 10002)
Completed 200 OK in 34ms (Views: 22.6ms | ActiveRecord: 0.6ms | Allocations: 13456)


Started POST "/logout" for 127.0.0.1 at 2021-09-30 23:21:56 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/movies
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 507)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 23:21:56 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.5ms | Allocations: 212)
  Rendered movies/_movie.html.haml (Duration: 0.2ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 2.0ms | Allocations: 868)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 9.6ms | Allocations: 3968)
Completed 200 OK in 16ms (Views: 10.2ms | ActiveRecord: 0.3ms | Allocations: 6274)


Started POST "/auth/google_oauth2" for 127.0.0.1 at 2021-09-30 23:21:57 +0700
Started GET "/auth/google_oauth2/callback?state=52eee92c9d10361fb83cc50fe680fc59f669288c76dce844&code=4%2F0AX4XfWjzXTQIMReC-dNRHfMWFRQ5aYxB5JaJeYcOQc1WommpWGaOtIEmoEoICZciuz8PuA&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=consent" for 127.0.0.1 at 2021-09-30 23:22:04 +0700
Processing by SessionsController#create as HTML
  Parameters: {"state"=>"52eee92c9d10361fb83cc50fe680fc59f669288c76dce844", "code"=>"4/0AX4XfWjzXTQIMReC-dNRHfMWFRQ5aYxB5JaJeYcOQc1WommpWGaOtIEmoEoICZciuz8PuA", "scope"=>"email profile https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile openid", "authuser"=>"1", "prompt"=>"consent", "provider"=>"google_oauth2"}
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."provider" = ? AND "moviegoers"."uid" = ? ORDER BY "moviegoers"."id" ASC LIMIT ?[0m  [["provider", "google_oauth2"], ["uid", "114837445119389522739"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/moviegoer.rb:5:in `create_with_omniauth'
  [1m[36mMoviegoer Create (0.4ms)[0m  [1m[32mINSERT INTO "moviegoers" ("name", "provider", "uid", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "A-Z Z-A"], ["provider", "google_oauth2"], ["uid", "114837445119389522739"], ["created_at", "2021-09-30 16:22:05.269835"], ["updated_at", "2021-09-30 16:22:05.269835"]]
  â†³ app/models/moviegoer.rb:5:in `create_with_omniauth'
  [1m[36mTRANSACTION (112.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/moviegoer.rb:5:in `create_with_omniauth'
Redirected to http://localhost:3000/movies
Completed 302 Found in 136ms (ActiveRecord: 113.1ms | Allocations: 6127)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 23:22:05 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.6ms | Allocations: 212)
  Rendered movies/_movie.html.haml (Duration: 1.2ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 4.8ms | Allocations: 866)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 90)
  Rendered layout layouts/application.html.haml (Duration: 11.9ms | Allocations: 4038)
Completed 200 OK in 20ms (Views: 12.6ms | ActiveRecord: 0.4ms | Allocations: 6519)


Started GET "/movies/2" for 127.0.0.1 at 2021-09-30 23:22:06 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 5.4ms | Allocations: 3382)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 25.7ms | Allocations: 6509)
Completed 200 OK in 39ms (Views: 26.4ms | ActiveRecord: 0.7ms | Allocations: 9238)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:22:08 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 1.6ms | Allocations: 186)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 10.5ms | Allocations: 3425)
Completed 200 OK in 20ms (Views: 11.3ms | ActiveRecord: 0.5ms | Allocations: 6024)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:22:09 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 2.3ms | Allocations: 1495)
  Rendered layout layouts/application.html.haml (Duration: 2.6ms | Allocations: 1574)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.8ms | Allocations: 4613)


  
ActionView::Template::Error (undefined method `potatoes' for nil:NilClass):
    2: 
    3: %h2 Review about #{@movie.title}
    4: 
    5: %h3 Potatoes: #{@moviegoer_reviews.potatoes}
    6: %h3 Comment:
    7: %p#:comments=@moviegoer_reviews.comments
    8: 
  
app/views/reviews/show.html.haml:5
Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:23:01 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 2.8ms | Allocations: 2075)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.1ms | Allocations: 2403)
  Rendered layout layouts/application.html.haml (Duration: 19.4ms | Allocations: 11215)
Completed 200 OK in 33ms (Views: 21.9ms | ActiveRecord: 0.5ms | Allocations: 14652)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:23:25 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 3.1ms | Allocations: 2053)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.8ms | Allocations: 2401)
  Rendered layout layouts/application.html.haml (Duration: 18.4ms | Allocations: 11180)
Completed 200 OK in 31ms (Views: 23.5ms | ActiveRecord: 0.4ms | Allocations: 14617)


Started GET "/movies/2/reviews/new" for 127.0.0.1 at 2021-09-30 23:23:31 +0700
Processing by ReviewsController#new as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  Rendering layout layouts/application.html.haml
  Rendering reviews/new.html.haml within layouts/application
  Rendered reviews/_movie_review_form.html.haml (Duration: 3.3ms | Allocations: 2090)
  Rendered reviews/new.html.haml within layouts/application (Duration: 10.8ms | Allocations: 4655)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.7ms | Allocations: 90)
  Rendered layout layouts/application.html.haml (Duration: 20.5ms | Allocations: 7723)
Completed 200 OK in 33ms (Views: 22.0ms | ActiveRecord: 0.5ms | Allocations: 10645)


Started POST "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:23:35 +0700
Processing by ReviewsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "review"=>{"potatoes"=>"4", "comments"=>"sdasd"}, "commit"=>"Create Review", "movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.5ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/reviews_controller.rb:32:in `create'
  [1m[36mReview Create (0.8ms)[0m  [1m[32mINSERT INTO "reviews" ("potatoes", "comments", "moviegoer_id", "movie_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["potatoes", 4], ["comments", "sdasd"], ["moviegoer_id", 3], ["movie_id", 2], ["created_at", "2021-09-30 16:23:35.562308"], ["updated_at", "2021-09-30 16:23:35.562308"]]
  â†³ app/controllers/reviews_controller.rb:32:in `create'
  [1m[36mTRANSACTION (102.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/reviews_controller.rb:32:in `create'
Redirected to http://localhost:3000/movies/2
Completed 302 Found in 137ms (ActiveRecord: 104.2ms | Allocations: 8297)


Started GET "/movies/2" for 127.0.0.1 at 2021-09-30 23:23:35 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.5ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 6.2ms | Allocations: 3396)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 12.6ms | Allocations: 6541)
Completed 200 OK in 26ms (Views: 14.5ms | ActiveRecord: 0.9ms | Allocations: 9530)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:23:37 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 1.0ms | Allocations: 176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.7ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 14.4ms | Allocations: 3408)
Completed 200 OK in 31ms (Views: 16.0ms | ActiveRecord: 0.9ms | Allocations: 6021)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:23:45 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 1.3ms | Allocations: 176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 9.4ms | Allocations: 3408)
Completed 200 OK in 18ms (Views: 10.3ms | ActiveRecord: 0.4ms | Allocations: 6017)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:24:01 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 10.4ms | Allocations: 2061)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.7ms | Allocations: 2404)
  Rendered layout layouts/application.html.haml (Duration: 27.4ms | Allocations: 11202)
Completed 200 OK in 40ms (Views: 31.4ms | ActiveRecord: 0.5ms | Allocations: 14688)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:24:03 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 4.9ms | Allocations: 2489)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 14.8ms | Allocations: 5618)
Completed 200 OK in 35ms (Views: 15.9ms | ActiveRecord: 0.8ms | Allocations: 8850)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:24:04 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 2.3ms | Allocations: 179)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 11.9ms | Allocations: 3411)
Completed 200 OK in 24ms (Views: 14.2ms | ActiveRecord: 0.5ms | Allocations: 6023)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:24:07 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 0.8ms | Allocations: 236)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.7ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 12.8ms | Allocations: 3467)
Completed 200 OK in 29ms (Views: 13.9ms | ActiveRecord: 0.7ms | Allocations: 6569)


  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews"[0m
Started GET "/movies/2/reviews/id/edit" for 127.0.0.1 at 2021-09-30 23:24:25 +0700
Processing by ReviewsController#edit as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:43:in `edit'
  Rendering layout layouts/application.html.haml
  Rendering reviews/edit.html.haml within layouts/application
  Rendered reviews/_movie_review_form.html.haml (Duration: 2.5ms | Allocations: 2033)
  Rendered reviews/edit.html.haml within layouts/application (Duration: 7.7ms | Allocations: 4740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 1.0ms | Allocations: 92)
  Rendered layout layouts/application.html.haml (Duration: 16.2ms | Allocations: 7817)
Completed 200 OK in 30ms (Views: 17.4ms | ActiveRecord: 0.5ms | Allocations: 11074)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:24:27 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 1.1ms | Allocations: 237)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 8.9ms | Allocations: 3469)
Completed 200 OK in 30ms (Views: 10.6ms | ActiveRecord: 0.7ms | Allocations: 6594)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:24:28 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.5ms | Allocations: 179)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 9.5ms | Allocations: 3414)
Completed 200 OK in 27ms (Views: 11.1ms | ActiveRecord: 1.3ms | Allocations: 6026)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:28:09 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 2.6ms | Allocations: 1994)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.0ms | Allocations: 2403)
  Rendered layout layouts/application.html.haml (Duration: 16.9ms | Allocations: 11125)
Completed 200 OK in 31ms (Views: 18.9ms | ActiveRecord: 0.6ms | Allocations: 14615)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 23:37:50 +0700
Processing by MoviesController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 3.3ms | Allocations: 2270)
  Rendered movies/_movie.html.haml (Duration: 0.2ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 11.4ms | Allocations: 6481)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.3ms | Allocations: 2398)
  Rendered layout layouts/application.html.haml (Duration: 27.2ms | Allocations: 15451)
Completed 200 OK in 42ms (Views: 29.2ms | ActiveRecord: 1.5ms | Allocations: 19627)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 23:37:51 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 5.0ms | Allocations: 3292)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 90)
  Rendered layout layouts/application.html.haml (Duration: 15.3ms | Allocations: 6418)
Completed 200 OK in 30ms (Views: 16.0ms | ActiveRecord: 1.0ms | Allocations: 9145)


Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 23:37:53 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 2.1ms | Allocations: 1907)
  Rendered layout layouts/application.html.haml (Duration: 2.3ms | Allocations: 1981)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.8ms | Allocations: 5173)


  
ActionView::Template::Error (There's no Ruby code for = to evaluate.):
    1: %h2 All Review #{@movie.title}
    2: 
    3: = 
    4: 
    5: 
    6: 
  
app/views/reviews/index.html.haml:3
Started GET "/movies/1/reviews" for 127.0.0.1 at 2021-09-30 23:38:14 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"1"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 2.8ms | Allocations: 2016)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.1ms | Allocations: 2403)
  Rendered layout layouts/application.html.haml (Duration: 18.1ms | Allocations: 11156)
Completed 200 OK in 32ms (Views: 20.8ms | ActiveRecord: 0.5ms | Allocations: 14594)


Started GET "/movies/1" for 127.0.0.1 at 2021-09-30 23:38:17 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 4.1ms | Allocations: 3395)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 12.9ms | Allocations: 6535)
Completed 200 OK in 26ms (Views: 15.0ms | ActiveRecord: 0.9ms | Allocations: 9710)


Started GET "/movies" for 127.0.0.1 at 2021-09-30 23:38:19 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 3.7ms | Allocations: 2265)
  Rendered movies/_movie.html.haml (Duration: 0.3ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 15.3ms | Allocations: 6463)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 90)
  Rendered layout layouts/application.html.haml (Duration: 25.0ms | Allocations: 9534)
Completed 200 OK in 42ms (Views: 25.9ms | ActiveRecord: 0.8ms | Allocations: 12324)


Started GET "/movies/2" for 127.0.0.1 at 2021-09-30 23:38:20 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.0ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 90)
  Rendered layout layouts/application.html.haml (Duration: 8.8ms | Allocations: 3534)
Completed 200 OK in 25ms (Views: 9.7ms | ActiveRecord: 0.7ms | Allocations: 6110)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:38:22 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.5ms | Allocations: 174)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 7.3ms | Allocations: 3406)
Completed 200 OK in 23ms (Views: 8.0ms | ActiveRecord: 0.7ms | Allocations: 6020)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:53:59 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (1.0ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 2.5ms | Allocations: 1968)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.0ms | Allocations: 2405)
  Rendered layout layouts/application.html.haml (Duration: 20.0ms | Allocations: 11109)
Completed 200 OK in 72ms (Views: 22.0ms | ActiveRecord: 2.0ms | Allocations: 29041)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-09-30 23:54:02 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 4.7ms | Allocations: 2496)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 11.8ms | Allocations: 5625)
Completed 200 OK in 32ms (Views: 12.8ms | ActiveRecord: 0.8ms | Allocations: 8857)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-09-30 23:54:04 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 1.0ms | Allocations: 173)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 14.3ms | Allocations: 3412)
Completed 200 OK in 35ms (Views: 16.9ms | ActiveRecord: 0.9ms | Allocations: 6024)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-10-01 00:25:57 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 3.3ms | Allocations: 2065)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.4ms | Allocations: 2406)
  Rendered layout layouts/application.html.haml (Duration: 22.1ms | Allocations: 11207)
Completed 200 OK in 86ms (Views: 25.3ms | ActiveRecord: 1.2ms | Allocations: 29093)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-10-01 00:26:08 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 5.5ms | Allocations: 2193)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 4.7ms | Allocations: 2401)
  Rendered layout layouts/application.html.haml (Duration: 25.6ms | Allocations: 11316)
Completed 200 OK in 39ms (Views: 28.6ms | ActiveRecord: 0.6ms | Allocations: 14772)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-10-01 00:26:10 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.7ms | Allocations: 198)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 9.2ms | Allocations: 3430)
Completed 200 OK in 21ms (Views: 9.9ms | ActiveRecord: 0.5ms | Allocations: 6041)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-10-01 00:26:23 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.1ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 4.9ms | Allocations: 2196)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 5.0ms | Allocations: 2402)
  Rendered layout layouts/application.html.haml (Duration: 27.3ms | Allocations: 11333)
Completed 200 OK in 37ms (Views: 29.7ms | ActiveRecord: 0.4ms | Allocations: 14824)


Started GET "/movies/2" for 127.0.0.1 at 2021-10-01 00:26:25 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (1.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 9.0ms | Allocations: 3362)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 1.4ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 21.4ms | Allocations: 6509)
Completed 200 OK in 43ms (Views: 24.0ms | ActiveRecord: 1.6ms | Allocations: 9872)


Started GET "/movies" for 127.0.0.1 at 2021-10-01 00:26:30 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.7ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (1.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 7.3ms | Allocations: 2265)
  Rendered movies/_movie.html.haml (Duration: 0.7ms | Allocations: 96)
  Rendered movies/index.html.haml within layouts/application (Duration: 22.3ms | Allocations: 6937)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 90)
  Rendered layout layouts/application.html.haml (Duration: 30.8ms | Allocations: 10008)
Completed 200 OK in 54ms (Views: 33.3ms | ActiveRecord: 2.2ms | Allocations: 12837)


Started GET "/movies/2" for 127.0.0.1 at 2021-10-01 00:26:32 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 1.8ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.7ms | Allocations: 90)
  Rendered layout layouts/application.html.haml (Duration: 17.2ms | Allocations: 3534)
Completed 200 OK in 38ms (Views: 18.2ms | ActiveRecord: 0.7ms | Allocations: 6110)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-10-01 00:26:39 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 1.0ms | Allocations: 198)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 94)
  Rendered layout layouts/application.html.haml (Duration: 30.1ms | Allocations: 3431)
Completed 200 OK in 51ms (Views: 31.5ms | ActiveRecord: 1.1ms | Allocations: 6046)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-10-01 00:26:42 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 9.1ms | Allocations: 2586)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 17.0ms | Allocations: 5722)
Completed 200 OK in 32ms (Views: 17.9ms | ActiveRecord: 0.6ms | Allocations: 8976)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-10-01 00:26:43 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.5ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (4.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 0.8ms | Allocations: 198)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 1.0ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 13.1ms | Allocations: 3437)
Completed 200 OK in 35ms (Views: 15.6ms | ActiveRecord: 5.4ms | Allocations: 6050)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-10-01 00:26:44 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 1.8ms | Allocations: 236)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 15.9ms | Allocations: 3468)
Completed 200 OK in 47ms (Views: 17.7ms | ActiveRecord: 1.2ms | Allocations: 6595)


Started GET "/movies/2/reviews/id/edit" for 127.0.0.1 at 2021-10-01 00:26:46 +0700
Processing by ReviewsController#edit as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:43:in `edit'
  Rendering layout layouts/application.html.haml
  Rendering reviews/edit.html.haml within layouts/application
  Rendered reviews/_movie_review_form.html.haml (Duration: 5.0ms | Allocations: 2034)
  Rendered reviews/edit.html.haml within layouts/application (Duration: 13.6ms | Allocations: 4740)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.8ms | Allocations: 92)
  Rendered layout layouts/application.html.haml (Duration: 22.6ms | Allocations: 7810)
Completed 200 OK in 44ms (Views: 24.2ms | ActiveRecord: 0.8ms | Allocations: 11067)


Started GET "/movies/2/reviews/id" for 127.0.0.1 at 2021-10-01 00:26:47 +0700
Processing by ReviewsController#show as HTML
  Parameters: {"movie_id"=>"2", "id"=>"id"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:12:in `has_moviegoer_and_movie'
  [1m[36mCACHE Movie Load (0.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:62:in `show'
  Rendering layout layouts/application.html.haml
  Rendering reviews/show.html.haml within layouts/application
  Rendered reviews/show.html.haml within layouts/application (Duration: 2.1ms | Allocations: 237)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 18.3ms | Allocations: 3468)
Completed 200 OK in 47ms (Views: 20.0ms | ActiveRecord: 1.0ms | Allocations: 6568)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-10-01 00:26:48 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 1.8ms | Allocations: 198)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.6ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 20.2ms | Allocations: 3437)
Completed 200 OK in 35ms (Views: 21.4ms | ActiveRecord: 0.8ms | Allocations: 6049)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-10-01 00:31:21 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 4.3ms | Allocations: 2196)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 4.8ms | Allocations: 2403)
  Rendered layout layouts/application.html.haml (Duration: 22.1ms | Allocations: 11336)
Completed 200 OK in 37ms (Views: 25.9ms | ActiveRecord: 0.5ms | Allocations: 14827)


Started GET "/movies/2" for 127.0.0.1 at 2021-10-01 00:31:22 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.2ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 6.3ms | Allocations: 3395)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 17.1ms | Allocations: 6535)
Completed 200 OK in 33ms (Views: 20.8ms | ActiveRecord: 0.7ms | Allocations: 9710)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-10-01 00:32:15 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 1.1ms | Allocations: 198)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 16.4ms | Allocations: 3462)
Completed 200 OK in 37ms (Views: 20.5ms | ActiveRecord: 0.8ms | Allocations: 6076)


Started GET "/movies/2/reviews" for 127.0.0.1 at 2021-10-01 00:32:28 +0700
Processing by ReviewsController#index as HTML
  Parameters: {"movie_id"=>"2"}
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" = ? LIMIT ?[0m  [["moviegoer_id", 3], ["movie_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/reviews_controller.rb:21:in `index'
  Rendering layout layouts/application.html.haml
  Rendering reviews/index.html.haml within layouts/application
  Rendered reviews/index.html.haml within layouts/application (Duration: 6.4ms | Allocations: 2200)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.5ms | Allocations: 2404)
  Rendered layout layouts/application.html.haml (Duration: 27.3ms | Allocations: 11346)
Completed 200 OK in 43ms (Views: 31.0ms | ActiveRecord: 0.7ms | Allocations: 14839)


Started GET "/" for 127.0.0.1 at 2021-10-03 13:57:31 +0700
  [1m[35m (15.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2021-10-03 13:57:32 +0700
Started GET "/movies" for 127.0.0.1 at 2021-10-03 13:57:32 +0700
Started GET "/movies" for 127.0.0.1 at 2021-10-03 13:57:32 +0700
Processing by MoviesController#index as HTML
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.6ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMoviegoer Load (0.5ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  [1m[36mMovie Load (1.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 4.6ms | Allocations: 2478)
  Rendered movies/_movie.html.haml (Duration: 0.5ms | Allocations: 98)
  Rendered movies/index.html.haml within layouts/application (Duration: 42.4ms | Allocations: 9902)
  Rendered movies/_movie.html.haml (Duration: 6.4ms | Allocations: 2603)
  Rendered movies/_movie.html.haml (Duration: 1.2ms | Allocations: 98)
  Rendered movies/index.html.haml within layouts/application (Duration: 49.4ms | Allocations: 13998)
  Rendered layout layouts/application.html.haml (Duration: 189.5ms | Allocations: 20998)
Completed 500 Internal Server Error in 512ms (ActiveRecord: 4.4ms | Allocations: 54072)


  
ActionView::Template::Error (Permission denied @ rb_file_s_rename - (C:/Users/pig_k/Desktop/2/Myrottenpotatoes/tmp/cache/assets/sprockets/v4.0.0/9m/9mZPX0VNECMbAzRyzMu2M2v6yhQ47xhCbypH2jhIxKY.cache.17260.12712.267230, C:/Users/pig_k/Desktop/2/Myrottenpotatoes/tmp/cache/assets/sprockets/v4.0.0/9m/9mZPX0VNECMbAzRyzMu2M2v6yhQ47xhCbypH2jhIxKY.cache)):
    2: %html
    3:   %head
    4:     %title RottenPotatoes!
    5:     = stylesheet_link_tag 'application'
    6:     = javascript_pack_tag 'application'
    7:     = csrf_meta_tags
    8: 
  
app/views/layouts/application.html.haml:5
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 4.6ms | Allocations: 2502)
  Rendered layout layouts/application.html.haml (Duration: 1193.0ms | Allocations: 327533)
Completed 200 OK in 1519ms (Views: 1263.9ms | ActiveRecord: 2.6ms | Allocations: 360748)


Started POST "/auth/google_oauth2" for 127.0.0.1 at 2021-10-03 13:57:37 +0700
Started GET "/movies" for 127.0.0.1 at 2021-10-03 14:00:04 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.8ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.8ms | Allocations: 214)
  Rendered movies/_movie.html.haml (Duration: 0.5ms | Allocations: 98)
  Rendered movies/index.html.haml within layouts/application (Duration: 4.8ms | Allocations: 1127)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 75)
  Rendered layout layouts/application.html.haml (Duration: 74.6ms | Allocations: 5964)
Completed 200 OK in 87ms (Views: 76.3ms | ActiveRecord: 1.2ms | Allocations: 8871)


Started POST "/auth/google_oauth2" for 127.0.0.1 at 2021-10-03 14:00:06 +0700
Started GET "/" for 127.0.0.1 at 2021-10-03 14:00:44 +0700
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/movies" for 127.0.0.1 at 2021-10-03 14:00:44 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.6ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 3.1ms | Allocations: 2446)
  Rendered movies/_movie.html.haml (Duration: 0.4ms | Allocations: 98)
  Rendered movies/index.html.haml within layouts/application (Duration: 51.0ms | Allocations: 9425)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 3.3ms | Allocations: 2444)
  Rendered layout layouts/application.html.haml (Duration: 163.2ms | Allocations: 26488)
Completed 200 OK in 246ms (Views: 179.2ms | ActiveRecord: 4.3ms | Allocations: 42271)


Started POST "/auth/google_oauth2" for 127.0.0.1 at 2021-10-03 14:00:46 +0700
Started GET "/" for 127.0.0.1 at 2021-10-03 14:02:38 +0700
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/movies" for 127.0.0.1 at 2021-10-03 14:02:38 +0700
Processing by MoviesController#index as HTML
Started GET "/" for 127.0.0.1 at 2021-10-03 14:02:38 +0700
  [1m[36mMoviegoer Load (1.0ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 20.9ms | Allocations: 2786)
  Rendered movies/_movie.html.haml (Duration: 1.0ms | Allocations: 98)
  Rendered movies/index.html.haml within layouts/application (Duration: 37.1ms | Allocations: 10518)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 2.9ms | Allocations: 2416)
  Rendered layout layouts/application.html.haml (Duration: 148.8ms | Allocations: 27523)
Completed 200 OK in 265ms (Views: 170.9ms | ActiveRecord: 5.8ms | Allocations: 44189)


Started GET "/movies" for 127.0.0.1 at 2021-10-03 14:02:38 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.7ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 1.1ms | Allocations: 214)
  Rendered movies/_movie.html.haml (Duration: 1.6ms | Allocations: 98)
  Rendered movies/index.html.haml within layouts/application (Duration: 10.2ms | Allocations: 872)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 103.6ms | Allocations: 4537)
Completed 200 OK in 128ms (Views: 108.1ms | ActiveRecord: 1.3ms | Allocations: 6881)


Started POST "/auth/google_oauth2" for 127.0.0.1 at 2021-10-03 14:02:40 +0700
Started GET "/auth/google_oauth2/callback?state=c1f3b07e9643a5896f38bf0cffa6935a83750ae883f64de4&code=4/0AX4XfWh45rLXECrmsSa0yD7r80saJOl3o59683pPK1CUbnUjlWhm4yr3mCfYEZtrE83Hhg&scope=email%20profile%20https://www.googleapis.com/auth/userinfo.email%20https://www.googleapis.com/auth/userinfo.profile%20openid&authuser=0&hd=email.kmutnb.ac.th&prompt=consent" for 127.0.0.1 at 2021-10-03 14:02:44 +0700
Processing by SessionsController#create as HTML
  Parameters: {"state"=>"c1f3b07e9643a5896f38bf0cffa6935a83750ae883f64de4", "code"=>"4/0AX4XfWh45rLXECrmsSa0yD7r80saJOl3o59683pPK1CUbnUjlWhm4yr3mCfYEZtrE83Hhg", "scope"=>"email profile https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile openid", "authuser"=>"0", "hd"=>"email.kmutnb.ac.th", "prompt"=>"consent", "provider"=>"google_oauth2"}
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."provider" = ? AND "moviegoers"."uid" = ? ORDER BY "moviegoers"."id" ASC LIMIT ?[0m  [["provider", "google_oauth2"], ["uid", "103872707119493740224"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/moviegoer.rb:5:in `create_with_omniauth'
  [1m[36mMoviegoer Create (5.3ms)[0m  [1m[32mINSERT INTO "moviegoers" ("name", "provider", "uid", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "à¸žà¸Šà¸£à¸žà¸¥ à¹‚à¸•à¸ªà¸¸à¹‚à¸‚à¸§à¸‡à¸¨à¹Œ"], ["provider", "google_oauth2"], ["uid", "103872707119493740224"], ["created_at", "2021-10-03 07:02:45.836070"], ["updated_at", "2021-10-03 07:02:45.836070"]]
  â†³ app/models/moviegoer.rb:5:in `create_with_omniauth'
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/moviegoer.rb:5:in `create_with_omniauth'
Redirected to http://127.0.0.1:3000/movies
Completed 302 Found in 48ms (ActiveRecord: 19.9ms | Allocations: 6668)


Started GET "/movies" for 127.0.0.1 at 2021-10-03 14:02:45 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.7ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.6ms | Allocations: 214)
  Rendered movies/_movie.html.haml (Duration: 0.5ms | Allocations: 98)
  Rendered movies/index.html.haml within layouts/application (Duration: 4.2ms | Allocations: 1224)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.haml (Duration: 75.3ms | Allocations: 5735)
Completed 200 OK in 275ms (Views: 77.5ms | ActiveRecord: 2.5ms | Allocations: 22515)


Started POST "/logout" for 127.0.0.1 at 2021-10-03 14:02:51 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://127.0.0.1:3000/movies
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 392)


Started GET "/movies" for 127.0.0.1 at 2021-10-03 14:02:51 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.6ms | Allocations: 214)
  Rendered movies/_movie.html.haml (Duration: 3.3ms | Allocations: 98)
  Rendered movies/index.html.haml within layouts/application (Duration: 7.1ms | Allocations: 874)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 65.0ms | Allocations: 4554)
Completed 200 OK in 75ms (Views: 67.7ms | ActiveRecord: 0.9ms | Allocations: 6825)


Started GET "/movies/new" for 127.0.0.1 at 2021-10-03 14:03:03 +0700
Processing by MoviesController#new as HTML
  [1m[36mMoviegoer Load (0.6ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
Redirected to http://127.0.0.1:3000/movies
Filter chain halted as :has_moviegoer_and_movie rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.6ms | Allocations: 1477)


Started GET "/movies" for 127.0.0.1 at 2021-10-03 14:03:04 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.9ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 3.3ms | Allocations: 214)
  Rendered movies/_movie.html.haml (Duration: 0.9ms | Allocations: 98)
  Rendered movies/index.html.haml within layouts/application (Duration: 10.3ms | Allocations: 872)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 74)
  Rendered layout layouts/application.html.haml (Duration: 107.2ms | Allocations: 4922)
Completed 200 OK in 129ms (Views: 110.3ms | ActiveRecord: 1.5ms | Allocations: 7072)


Started POST "/auth/google_oauth2" for 127.0.0.1 at 2021-10-03 14:03:06 +0700
Started GET "/auth/google_oauth2/callback?state=ec1c08e0dcaf3d137d2059f4387bfceec18cc040bc7c0dd2&code=4%2F0AX4XfWj-DRVLQ8ofidSAabnoRXc3Obk3ETj7NU5FJra29su1KEG3B2gDhVD6msvjl_TdgQ&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&hd=email.kmutnb.ac.th&prompt=none" for 127.0.0.1 at 2021-10-03 14:03:07 +0700
Processing by SessionsController#create as HTML
  Parameters: {"state"=>"ec1c08e0dcaf3d137d2059f4387bfceec18cc040bc7c0dd2", "code"=>"4/0AX4XfWj-DRVLQ8ofidSAabnoRXc3Obk3ETj7NU5FJra29su1KEG3B2gDhVD6msvjl_TdgQ", "scope"=>"email profile openid https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email", "authuser"=>"0", "hd"=>"email.kmutnb.ac.th", "prompt"=>"none", "provider"=>"google_oauth2"}
  [1m[36mMoviegoer Load (0.5ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."provider" = ? AND "moviegoers"."uid" = ? ORDER BY "moviegoers"."id" ASC LIMIT ?[0m  [["provider", "google_oauth2"], ["uid", "103872707119493740224"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/movies
Completed 302 Found in 16ms (ActiveRecord: 0.5ms | Allocations: 1049)


Started GET "/movies" for 127.0.0.1 at 2021-10-03 14:03:07 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.5ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.6ms | Allocations: 214)
  Rendered movies/_movie.html.haml (Duration: 0.5ms | Allocations: 98)
  Rendered movies/index.html.haml within layouts/application (Duration: 3.4ms | Allocations: 873)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 68.0ms | Allocations: 4624)
Completed 200 OK in 94ms (Views: 69.4ms | ActiveRecord: 1.3ms | Allocations: 7131)


Started GET "/movies/new" for 127.0.0.1 at 2021-10-03 14:03:10 +0700
Processing by MoviesController#new as HTML
  [1m[36mMoviegoer Load (0.6ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (1.0ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.haml
  Rendering movies/new.html.haml within layouts/application
  Rendered movies/_movie_form.html.haml (Duration: 469.3ms | Allocations: 28577)
  Rendered movies/new.html.haml within layouts/application (Duration: 491.1ms | Allocations: 31180)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 95)
  Rendered layout layouts/application.html.haml (Duration: 542.9ms | Allocations: 34828)
Completed 200 OK in 583ms (Views: 548.0ms | ActiveRecord: 1.5ms | Allocations: 37578)


Started GET "/movies" for 127.0.0.1 at 2021-10-03 14:03:13 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (1.0ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.6ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 1.4ms | Allocations: 214)
  Rendered movies/_movie.html.haml (Duration: 1.6ms | Allocations: 98)
  Rendered movies/index.html.haml within layouts/application (Duration: 7.8ms | Allocations: 873)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.4ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 108.9ms | Allocations: 4616)
Completed 200 OK in 145ms (Views: 112.6ms | ActiveRecord: 2.3ms | Allocations: 7310)


Started GET "/movies/2" for 127.0.0.1 at 2021-10-03 14:03:16 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mMoviegoer Load (0.7ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (1.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (3.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 15.6ms | Allocations: 3415)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.9ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 114.4ms | Allocations: 7119)
Completed 200 OK in 178ms (Views: 117.2ms | ActiveRecord: 5.5ms | Allocations: 10572)


Started DELETE "/movies/2" for 127.0.0.1 at 2021-10-03 14:03:19 +0700
Processing by MoviesController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:72:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/movies_controller.rb:73:in `destroy'
  [1m[36mMovie Destroy (35.8ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/movies_controller.rb:73:in `destroy'
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/movies_controller.rb:73:in `destroy'
Redirected to http://127.0.0.1:3000/movies
Completed 302 Found in 74ms (ActiveRecord: 49.9ms | Allocations: 6459)


Started GET "/movies" for 127.0.0.1 at 2021-10-03 14:03:19 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.7ms | Allocations: 214)
  Rendered movies/index.html.haml within layouts/application (Duration: 2.3ms | Allocations: 715)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 63.1ms | Allocations: 4671)
Completed 200 OK in 75ms (Views: 65.0ms | ActiveRecord: 1.3ms | Allocations: 7129)


Started GET "/movies/1" for 127.0.0.1 at 2021-10-03 14:03:21 +0700
Processing by MoviesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mMoviegoer Load (1.9ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (1.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:19:in `show'
  Rendering layout layouts/application.html.haml
  Rendering movies/show.html.haml within layouts/application
  Rendered movies/show.html.haml within layouts/application (Duration: 2.8ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.7ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 110.8ms | Allocations: 4171)
Completed 200 OK in 155ms (Views: 115.8ms | ActiveRecord: 3.7ms | Allocations: 7260)


Started DELETE "/movies/1" for 127.0.0.1 at 2021-10-03 14:03:23 +0700
Processing by MoviesController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mMoviegoer Load (0.7ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movies_controller.rb:72:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/movies_controller.rb:73:in `destroy'
  [1m[36mMovie Destroy (35.3ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/movies_controller.rb:73:in `destroy'
  [1m[36mTRANSACTION (22.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/movies_controller.rb:73:in `destroy'
Redirected to http://127.0.0.1:3000/movies
Completed 302 Found in 139ms (ActiveRecord: 59.3ms | Allocations: 5543)


Started GET "/movies" for 127.0.0.1 at 2021-10-03 14:03:23 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/index.html.haml within layouts/application (Duration: 1.1ms | Allocations: 481)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.2ms | Allocations: 96)
  Rendered layout layouts/application.html.haml (Duration: 64.2ms | Allocations: 10177)
Completed 200 OK in 77ms (Views: 66.5ms | ActiveRecord: 1.2ms | Allocations: 12954)


Started GET "/movies/new" for 127.0.0.1 at 2021-10-03 14:03:25 +0700
Processing by MoviesController#new as HTML
  [1m[36mMoviegoer Load (0.6ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (1.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.haml
  Rendering movies/new.html.haml within layouts/application
  Rendered movies/_movie_form.html.haml (Duration: 7.1ms | Allocations: 2785)
  Rendered movies/new.html.haml within layouts/application (Duration: 10.3ms | Allocations: 3501)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 137.1ms | Allocations: 7960)
Completed 200 OK in 156ms (Views: 140.6ms | ActiveRecord: 1.9ms | Allocations: 10044)


Started POST "/movies" for 127.0.0.1 at 2021-10-03 14:04:58 +0700
Processing by MoviesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "movie"=>{"title"=>"Honey, I shrunk", "rating"=>"G", "release_date(1i)"=>"1989", "release_date(2i)"=>"6", "release_date(3i)"=>"23", "description"=>"The scientist father of a teenage girl and boy accidentally shrinks his and two other neighborhood teens to the size of insects. Now the teens must fight diminutive dangers as the father searches for them.\r\n"}, "commit"=>"Save Changes"}
  [1m[36mMoviegoer Load (4.7ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/movies_controller.rb:41:in `create'
  [1m[36mMovie Create (2.2ms)[0m  [1m[32mINSERT INTO "movies" ("title", "rating", "description", "release_date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Honey, I Shrunk"], ["rating", "G"], ["description", "The scientist father of a teenage girl and boy accidentally shrinks his and two other neighborhood teens to the size of insects. Now the teens must fight diminutive dangers as the father searches for them.\r\n"], ["release_date", "1989-06-23 00:00:00"], ["created_at", "2021-10-03 07:04:58.684680"], ["updated_at", "2021-10-03 07:04:58.684680"]]
  â†³ app/controllers/movies_controller.rb:41:in `create'
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/movies_controller.rb:41:in `create'
Redirected to http://127.0.0.1:3000/movies
Completed 302 Found in 43ms (ActiveRecord: 19.3ms | Allocations: 4859)


Started GET "/movies" for 127.0.0.1 at 2021-10-03 14:04:58 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 1.3ms | Allocations: 213)
  Rendered movies/index.html.haml within layouts/application (Duration: 3.0ms | Allocations: 715)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 73.9ms | Allocations: 4470)
Completed 200 OK in 90ms (Views: 75.6ms | ActiveRecord: 1.3ms | Allocations: 6929)


Started GET "/movies/new" for 127.0.0.1 at 2021-10-03 14:05:02 +0700
Processing by MoviesController#new as HTML
  [1m[36mMoviegoer Load (1.1ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.7ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.haml
  Rendering movies/new.html.haml within layouts/application
  Rendered movies/_movie_form.html.haml (Duration: 7.6ms | Allocations: 2715)
  Rendered movies/new.html.haml within layouts/application (Duration: 11.4ms | Allocations: 3433)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.6ms | Allocations: 93)
  Rendered layout layouts/application.html.haml (Duration: 123.0ms | Allocations: 10953)
Completed 200 OK in 149ms (Views: 127.6ms | ActiveRecord: 1.8ms | Allocations: 15040)


Started POST "/movies" for 127.0.0.1 at 2021-10-03 14:07:01 +0700
Processing by MoviesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "movie"=>{"title"=>"Pacific Rim", "rating"=>"PG-13", "release_date(1i)"=>"2013", "release_date(2i)"=>"7", "release_date(3i)"=>"1", "description"=>"As a war between humankind and monstrous sea creatures wages on, a former pilot and a trainee are paired up to drive a seemingly obsolete special weapon in a desperate effort to save the world from the apocalypse."}, "commit"=>"Save Changes"}
  [1m[36mMoviegoer Load (0.5ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/movies_controller.rb:41:in `create'
  [1m[36mMovie Create (86.9ms)[0m  [1m[32mINSERT INTO "movies" ("title", "rating", "description", "release_date", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Pacific Rim"], ["rating", "PG-13"], ["description", "As a war between humankind and monstrous sea creatures wages on, a former pilot and a trainee are paired up to drive a seemingly obsolete special weapon in a desperate effort to save the world from the apocalypse."], ["release_date", "2013-07-01 00:00:00"], ["created_at", "2021-10-03 07:07:01.638293"], ["updated_at", "2021-10-03 07:07:01.638293"]]
  â†³ app/controllers/movies_controller.rb:41:in `create'
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/movies_controller.rb:41:in `create'
Redirected to http://127.0.0.1:3000/movies
Completed 302 Found in 125ms (ActiveRecord: 98.0ms | Allocations: 4452)


Started GET "/movies" for 127.0.0.1 at 2021-10-03 14:07:01 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.6ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.7ms | Allocations: 213)
  Rendered movies/_movie.html.haml (Duration: 0.5ms | Allocations: 98)
  Rendered movies/index.html.haml within layouts/application (Duration: 3.8ms | Allocations: 872)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.5ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 227.3ms | Allocations: 12513)
Completed 200 OK in 244ms (Views: 228.8ms | ActiveRecord: 1.7ms | Allocations: 14986)


Started POST "/movies/search_tmdb" for 127.0.0.1 at 2021-10-03 14:07:29 +0700
Processing by MoviesController#search_tmdb as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "search_terms"=>"James Bond", "commit"=>"Search TMDb"}
  [1m[36mMoviegoer Load (0.4ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
Redirected to http://127.0.0.1:3000/movies
Completed 302 Found in 9ms (ActiveRecord: 0.9ms | Allocations: 1851)


Started GET "/movies" for 127.0.0.1 at 2021-10-03 14:07:29 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (0.6ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:13:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.7ms | Allocations: 213)
  Rendered movies/_movie.html.haml (Duration: 0.4ms | Allocations: 98)
  Rendered movies/index.html.haml within layouts/application (Duration: 3.4ms | Allocations: 871)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.3ms | Allocations: 91)
  Rendered layout layouts/application.html.haml (Duration: 70.3ms | Allocations: 10002)
Completed 200 OK in 88ms (Views: 75.1ms | ActiveRecord: 1.7ms | Allocations: 12475)


Started GET "/" for 127.0.0.1 at 2021-10-03 15:28:19 +0700
  [1m[35m (29.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/" for 127.0.0.1 at 2021-10-03 15:28:20 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/movies" for 127.0.0.1 at 2021-10-03 15:28:20 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (1.0ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mMovie Load (7.9ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:12:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 26.8ms | Allocations: 2445)
  Rendered movies/_movie.html.haml (Duration: 1.8ms | Allocations: 99)
  Rendered movies/index.html.haml within layouts/application (Duration: 97.3ms | Allocations: 9582)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 17.9ms | Allocations: 2424)
  Rendered layout layouts/application.html.haml (Duration: 623.4ms | Allocations: 41376)
Completed 200 OK in 1006ms (Views: 718.3ms | ActiveRecord: 12.7ms | Allocations: 61063)


Started POST "/auth/google_oauth2" for 127.0.0.1 at 2021-10-03 15:28:27 +0700
Started GET "/auth/google_oauth2/callback?state=72523d04513b250f2c5193887b21f58c89ce0f4323af005b&code=4/0AX4XfWjkSUTu9Ey0EG2GmExm-MfYh7ugNNzjT5cXy83z_E_VMBKlwfgOTSrjs8W-AD1Dnw&scope=email%20profile%20https://www.googleapis.com/auth/userinfo.email%20https://www.googleapis.com/auth/userinfo.profile%20openid&authuser=1&hd=email.kmutnb.ac.th&prompt=consent" for 127.0.0.1 at 2021-10-03 15:28:31 +0700
Processing by SessionsController#create as HTML
  Parameters: {"state"=>"72523d04513b250f2c5193887b21f58c89ce0f4323af005b", "code"=>"4/0AX4XfWjkSUTu9Ey0EG2GmExm-MfYh7ugNNzjT5cXy83z_E_VMBKlwfgOTSrjs8W-AD1Dnw", "scope"=>"email profile https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile openid", "authuser"=>"1", "hd"=>"email.kmutnb.ac.th", "prompt"=>"consent", "provider"=>"google_oauth2"}
  [1m[36mMoviegoer Load (1.3ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."provider" = ? AND "moviegoers"."uid" = ? ORDER BY "moviegoers"."id" ASC LIMIT ?[0m  [["provider", "google_oauth2"], ["uid", "112167459517191858276"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/moviegoer.rb:5:in `create_with_omniauth'
  [1m[36mMoviegoer Create (12.9ms)[0m  [1m[32mINSERT INTO "moviegoers" ("name", "provider", "uid", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "à¸™à¸¤à¸Šà¸±à¸¢ à¸§à¸£à¸£à¸“à¸ªà¸§à¸±à¸ªà¸”à¸´à¹Œ"], ["provider", "google_oauth2"], ["uid", "112167459517191858276"], ["created_at", "2021-10-03 08:28:31.784524"], ["updated_at", "2021-10-03 08:28:31.784524"]]
  â†³ app/models/moviegoer.rb:5:in `create_with_omniauth'
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/moviegoer.rb:5:in `create_with_omniauth'
Redirected to http://127.0.0.1:3000/movies
Completed 302 Found in 154ms (ActiveRecord: 27.8ms | Allocations: 7752)


Started GET "/movies" for 127.0.0.1 at 2021-10-03 15:28:31 +0700
Processing by MoviesController#index as HTML
  [1m[36mMoviegoer Load (1.0ms)[0m  [1m[34mSELECT "moviegoers".* FROM "moviegoers" WHERE "moviegoers"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  [1m[36mReview Load (8.0ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."moviegoer_id" = ? AND "reviews"."movie_id" IS NULL LIMIT ?[0m  [["moviegoer_id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies"[0m
  â†³ app/controllers/movies_controller.rb:12:in `sort_by'
  Rendering layout layouts/application.html.haml
  Rendering movies/index.html.haml within layouts/application
  Rendered movies/_movie.html.haml (Duration: 0.9ms | Allocations: 214)
  Rendered movies/_movie.html.haml (Duration: 166.0ms | Allocations: 100)
  Rendered movies/index.html.haml within layouts/application (Duration: 288.9ms | Allocations: 880)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered movies/_login_form.html.haml (Duration: 0.6ms | Allocations: 96)
  Rendered layout layouts/application.html.haml (Duration: 512.9ms | Allocations: 5917)
Completed 200 OK in 906ms (Views: 526.4ms | ActiveRecord: 10.8ms | Allocations: 29734)


